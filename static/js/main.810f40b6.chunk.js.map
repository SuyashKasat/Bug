{"version":3,"sources":["providers/current-user/current-user.provider.tsx","firebase/firebase.utils.ts","components/defect-form/defect-form.component.tsx","components/footer/footer.component.tsx","components/navbar/navbar.component.tsx","components/view-tickets/view-tickets.component.tsx","pages/homepage/homepage.component.tsx","components/login/login.component.tsx","components/register/register.component.tsx","pages/register-and-login/register-and-login.component.tsx","pages/ticket-details/ticket-details.component.tsx","routes.tsx","index.tsx"],"names":["CurrentUserContext","createContext","id","email","displayName","role","myTickets","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","createUserProfileDocument","userAuth","additionalData","a","userRef","firestore","doc","uid","get","exists","createdAt","Date","set","console","log","message","auth","storage","googleProvider","GoogleAuthProvider","setCustomParameters","prompt","DefectForm","useState","title","setTitle","description","setDescription","defectImage","setDefectImage","priority","setPriority","currentUser","useContext","handleChange","event","target","name","value","className","onSubmit","preventDefault","v4","imageUrl","uploadTask","ref","child","put","contentType","on","TaskEvent","STATE_CHANGED","snapshot","progress","bytesTransferred","totalBytes","state","TaskState","PAUSED","RUNNING","error","getDownloadURL","then","downloadURL","collection","owner","status","assignee","catch","merge","htmlFor","type","placeholder","onChange","rows","files","size","undefined","alert","Footer","withRouter","history","useHistory","to","data-toggle","data-target","aria-controls","aria-expanded","aria-label","location","pathname","style","cursor","onClick","signOut","push","window","reload","ViewTickets","URLSearchParams","useLocation","search","ticketsList","setTicketsList","useEffect","db","orderBy","querySnapshot","forEach","data","ticket","prevState","length","scope","map","index","key","Homepage","Login","password","userCredentials","setUserCredentials","prevUserCredentials","handleSubmit","signInWithEmailAndPassword","src","alt","width","height","required","Register","fName","lName","confirmPassword","createUserWithEmailAndPassword","user","RegisterAndLogin","TicketDetailsPage","ticketId","useParams","usersList","setUsersList","setAssignee","setStatus","setTicket","toDate","toString","refreshComponent","handleChangeStatus","handleSubmitStatus","Routes","setCurrentUser","unsubscribeFromAuth","onAuthStateChanged","onSnapshot","snapShot","Provider","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"4XAWeA,EARYC,wBAA2B,CACpDC,GAAI,GACJC,MAAO,GACPC,YAAa,GACbC,KAAM,GACNC,UAAW,K,mDCQbC,IAASC,cAXM,CACbC,OAAQ,0CACRC,WAAY,8BACZC,YAAa,qCACbC,UAAW,cACXC,cAAe,0BACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,iBAKV,IAAMC,EAAyB,uCAAG,WACvCC,EACAC,GAFuC,qBAAAC,EAAA,yDAIlCF,EAJkC,wDAMjCG,EAAUC,EAAUC,IAAV,gBAAuBL,EAASM,MANT,SAQhBH,EAAQI,MARQ,iBAUzBC,OAVyB,wBAW7BtB,EAAuBc,EAAvBd,YAAaD,EAAUe,EAAVf,MACfwB,EAAY,IAAIC,KAZe,mBAc7BP,EAAQQ,IAAR,aACJzB,cACAD,QACAwB,YACArB,UAAW,CAAC,KACTa,IAnB8B,0DAsBnCW,QAAQC,IAAI,sBAAuB,KAAMC,SAtBN,iCA0BhCX,GA1BgC,0DAAH,wDAsCzBY,EAAO1B,IAAS0B,OAChBX,EAAYf,IAASe,YACrBY,EAAU3B,IAAS2B,UAEnBC,EAAiB,IAAI5B,IAAS0B,KAAKG,mBAChDD,EAAeE,oBAAoB,CAAEC,OAAQ,mBAG9B/B,EAAf,EAFO,IC+IQgC,EAtMI,WAAO,IAAD,EACGC,mBAAS,IADZ,mBAChBC,EADgB,KACTC,EADS,OAEeF,mBAAS,IAFxB,mBAEhBG,EAFgB,KAEHC,EAFG,OAGeJ,qBAHf,mBAGhBK,EAHgB,KAGHC,EAHG,OAISN,mBAAS,IAJlB,mBAIhBO,EAJgB,KAINC,EAJM,KAMjBC,EAA2BC,qBAAWlD,GAEtCmD,EAAe,SACnBC,GAGI,IAAD,EACqBA,EAAMC,OAAtBC,EADL,EACKA,KAAMC,EADX,EACWA,MACd,OAAQD,GACN,IAAK,QACHZ,EAASa,GACT,MAEF,IAAK,cACHX,EAAeW,GACf,MAEF,IAAK,WACHP,EAAYO,KA+GlB,OACE,yBAAKC,UAAW,OACd,wBAAIA,UAAW,eAAf,wBACA,0BAAMA,UAAW,OAAQC,SA9FR,SAACL,GACpBA,EAAMM,iBACN,IAAMlC,EAAMmC,cACNhC,EAAY,IAAIC,KAClBgC,EAAW,GAEf,GAAIf,EAAa,CACf,IAMIgB,EANa3B,EAAQ4B,MAOtBC,MAAM,UAAYlB,EAAYS,MAC9BU,IAAInB,EANQ,CACboB,YAAa,eAOfJ,EAAWK,GACT3D,IAAS2B,QAAQiC,UAAUC,eAC3B,SAAUC,GACR,IAAIC,EACDD,EAASE,iBAAmBF,EAASG,WAAc,IAEtD,OADA1C,QAAQC,IAAI,aAAeuC,EAAW,UAC9BD,EAASI,OACf,KAAKlE,IAAS2B,QAAQwC,UAAUC,OAC9B7C,QAAQC,IAAI,oBACZ,MACF,KAAKxB,IAAS2B,QAAQwC,UAAUE,QAC9B9C,QAAQC,IAAI,yBAIlB,SAAC8C,GACC/C,QAAQ+C,MAAM,0BAA2BA,MAE3C,WACEhB,EAAWQ,SAASP,IACjBgB,iBACAC,MAAK,SAAUC,GACdlD,QAAQC,IAAI,oBAAqBiD,GACjCpB,EAAWoB,KAEZD,MAAK,WACJzD,EACG2D,WAAW,WACX1D,IAAIC,GACJK,IAAI,CACHqD,MAAO,CACLhF,GAAI+C,EAAY/C,GAChBE,YAAa6C,EAAY7C,YACzBD,MAAO8C,EAAY9C,OAErBsC,QACAE,cACAiB,WACAb,WACApB,YACAwD,OAAQ,aACRC,SAAU,CACRlF,GAAI,GACJE,YAAa,GACbD,MAAO,MAGV4E,MAAK,WACJjD,QAAQC,IAAI,qCAEbgD,MAAK,WACJrC,EAAS,IACTE,EAAe,IACfI,EAAY,OAEbqC,OAAM,SAAUR,GACf/C,QAAQ+C,MAAM,0BAA2BA,YAOvDvD,EACG2D,WAAW,SACX1D,IAAI0B,EAAY/C,IAChB2B,IACC,CACEvB,UAAU,GAAD,mBAAM2C,EAAY3C,WAAlB,CAA6BkB,KAExC,CAAE8D,OAAO,MAQT,yBAAK9B,UAAU,cACb,2BAAO+B,QAAQ,eAAf,SACA,2BACEC,KAAK,OACLlC,KAAK,QACLE,UAAU,eACVtD,GAAG,cACHuF,YAAY,sBACZlC,MAAOd,EACPiD,SAAUvC,KAGd,yBAAKK,UAAU,cACb,2BAAO+B,QAAQ,qBAAf,eACA,8BACE/B,UAAU,eACVF,KAAK,cACLpD,GAAG,oBACHuF,YAAY,oDACZE,KAAM,EACNpC,MAAOZ,EACP+C,SAAUvC,KAGd,yBAAKK,UAAU,cACb,2BAAO+B,QAAQ,eAAf,gBACA,2BACEC,KAAK,OACLlC,KAAK,cACLE,UAAU,oBACVkC,SAzIsB,SAC9BtC,GAEIA,EAAMC,OAAOuC,OAASxC,EAAMC,OAAOuC,MAAM,GAAGC,MAAQ,SACtD/C,EAAeM,EAAMC,OAAOuC,MAAQxC,EAAMC,OAAOuC,MAAM,QAAKE,GAC5DhE,QAAQC,IAAIc,KAEZkD,MAAM,yCACNjD,OAAegD,KAkIT5F,GAAG,iBAGP,yBAAKsD,UAAU,cACb,2BAAO+B,QAAQ,kBAAf,kBACA,4BACE/B,UAAU,eACVF,KAAK,WACLpD,GAAG,iBACHqD,MAAOR,EACP2C,SAAUvC,GAEV,8CACA,0CACA,wCACA,0CACA,uCACA,qDAGJ,4BAAQqC,KAAM,SAAUhC,UAAW,gBAAnC,oBC1LOwC,EATA,WACb,OACE,yBAAKxC,UAAU,mEACb,2DACA,oDC8ESyC,G,MAAAA,aA7EA,WACb,IAAMC,EAAUC,cACVlD,EAA2BC,qBAAWlD,GAM5C,OACE,yBAAKwD,UAAW,oBACd,yBAAKA,UAAU,+CACb,kBAAC,IAAD,CAAM4C,GAAI,eAAgB5C,UAAW,gBAArC,YAGA,4BACEA,UAAU,iBACVgC,KAAK,SACLa,cAAY,WACZC,cAAY,aACZC,gBAAc,YACdC,gBAAc,QACdC,aAAW,qBAEX,0BAAMjD,UAAU,yBAElB,yBAAKA,UAAU,2BAA2BtD,GAAG,aAC3C,wBAAIsD,UAAU,cACZ,wBACEA,UAAS,mBACuB,iBAA9B0C,EAAQQ,SAASC,SAA8B,SAAW,KAG5D,kBAAC,IAAD,CAAMP,GAAI,eAAgB5C,UAAW,YAArC,QACO,0BAAMA,UAAU,WAAhB,eAGT,wBACEA,UAAS,mBACuB,oCAA9B0C,EAAQQ,SAASC,SACb,SACA,MAGJ1D,EAAY9C,OACZ,kBAAC,IAAD,CACEiG,GAAI,kCACJ5C,UAAW,YAFb,uBAQJ,4BACGP,EAAY9C,OACX,yBACEqD,UAAW,WACXoD,MAAO,CAAEC,OAAQ,WACjBC,QAAS,WACP7E,EAAK8E,UACLb,EAAQc,KAAK,gBAtD7BC,OAAOP,SAASQ,WAiDJ,YAcN,0BAAM1D,UAAU,uBACbP,EAAY9C,MAAZ,cAA2B8C,EAAY7C,aAAgB,WCkNrD+G,EAlRK,WAClB,IACI3B,EALG,IAAI4B,gBAAgBC,cAAcC,QAKxB7F,IAAI,QAFG,EAGce,mBAAwB,IAHtC,mBAGjB+E,EAHiB,KAGJC,EAHI,KAKlBvE,EAA2BC,qBAAWlD,GAyO5C,OAvOAyH,qBAAU,WAER,OADAD,EAAe,IACPhC,GACN,IAAK,MACHkC,EAAGzC,WAAW,WACX0C,QAAQ,YAAa,QACrBlG,MACAsD,MAAK,SAAC6C,GACLA,EAAcC,SAAQ,SAACtG,GAAS,IAAD,EAUzBA,EAAIuG,OARNrF,EAF2B,EAE3BA,MACAE,EAH2B,EAG3BA,YACAiB,EAJ2B,EAI3BA,SACAb,EAL2B,EAK3BA,SACAoC,EAN2B,EAM3BA,OACAD,EAP2B,EAO3BA,MACAE,EAR2B,EAQ3BA,SACAzD,EAT2B,EAS3BA,UAEIoG,EAAS,CACb7H,GAAIqB,EAAIrB,GACRuC,QACAE,cACAiB,WACAb,WACAoC,SACAD,QACAE,WACAzD,aAEF6F,GAAe,SAACQ,GAAD,4BAAmBA,GAAnB,CAA8BD,aAGhD1C,OAAM,SAACR,GACN/C,QAAQ+C,MAAM,0BAA2BA,MAE7C,MAEF,IAAK,KACH6C,EAAGzC,WAAW,WACX0C,QAAQ,YAAa,QACrBlG,MACAsD,MAAK,SAAC6C,GACLA,EAAcC,SAAQ,SAACtG,GACrB,GAAIA,EAAIuG,OAAO5C,MAAMhF,KAAO+C,EAAY/C,GAAI,CAAC,IAAD,EAUtCqB,EAAIuG,OARNrF,EAFwC,EAExCA,MACAE,EAHwC,EAGxCA,YACAiB,EAJwC,EAIxCA,SACAb,EALwC,EAKxCA,SACAoC,EANwC,EAMxCA,OACAD,EAPwC,EAOxCA,MACAE,EARwC,EAQxCA,SACAzD,EATwC,EASxCA,UAEIoG,EAAS,CACb7H,GAAIqB,EAAIrB,GACRuC,QACAE,cACAiB,WACAb,WACAoC,SACAD,QACAE,WACAzD,aAEF6F,GAAe,SAACQ,GAAD,4BAAmBA,GAAnB,CAA8BD,cAIlD1C,OAAM,SAACR,GACN/C,QAAQ+C,MAAM,0BAA2BA,MAE7C,MAEF,IAAK,iBACH6C,EAAGzC,WAAW,WACX0C,QAAQ,YAAa,QACrBlG,MACAsD,MAAK,SAAC6C,GACLA,EAAcC,SAAQ,SAACtG,GACrB,GACwB,UAAtBA,EAAIuG,OAAO3C,QACX5D,EAAIuG,OAAO1C,SAASlF,KAAO+C,EAAY/C,GACvC,CAAC,IAAD,EAUIqB,EAAIuG,OARNrF,EAFF,EAEEA,MACAE,EAHF,EAGEA,YACAiB,EAJF,EAIEA,SACAb,EALF,EAKEA,SACAoC,EANF,EAMEA,OACAD,EAPF,EAOEA,MACAE,EARF,EAQEA,SACAzD,EATF,EASEA,UAEIoG,EAAS,CACb7H,GAAIqB,EAAIrB,GACRuC,QACAE,cACAiB,WACAb,WACAoC,SACAD,QACAE,WACAzD,aAEF6F,GAAe,SAACQ,GAAD,4BAAmBA,GAAnB,CAA8BD,cAIlD1C,OAAM,SAACR,GACN/C,QAAQ+C,MAAM,0BAA2BA,MAE7C,MAEF,IAAK,aACH6C,EAAGzC,WAAW,WACX0C,QAAQ,YAAa,QACrBlG,MACAsD,MAAK,SAAC6C,GACLA,EAAcC,SAAQ,SAACtG,GACrB,GAA0B,eAAtBA,EAAIuG,OAAO3C,OAAyB,CAAC,IAAD,EAUlC5D,EAAIuG,OARNrF,EAFoC,EAEpCA,MACAE,EAHoC,EAGpCA,YACAiB,EAJoC,EAIpCA,SACAb,EALoC,EAKpCA,SACAoC,EANoC,EAMpCA,OACAD,EAPoC,EAOpCA,MACAE,EARoC,EAQpCA,SACAzD,EAToC,EASpCA,UAEIoG,EAAS,CACb7H,GAAIqB,EAAIrB,GACRuC,QACAE,cACAiB,WACAb,WACAoC,SACAD,QACAE,WACAzD,aAEF6F,GAAe,SAACQ,GAAD,4BAAmBA,GAAnB,CAA8BD,cAIlD1C,OAAM,SAACR,GACN/C,QAAQ+C,MAAM,0BAA2BA,MAE7C,MAEF,IAAK,QACH6C,EAAGzC,WAAW,WACX0C,QAAQ,YAAa,QACrBlG,MACAsD,MAAK,SAAC6C,GACLA,EAAcC,SAAQ,SAACtG,GACrB,GAA0B,UAAtBA,EAAIuG,OAAO3C,OAAoB,CAAC,IAAD,EAU7B5D,EAAIuG,OARNrF,EAF+B,EAE/BA,MACAE,EAH+B,EAG/BA,YACAiB,EAJ+B,EAI/BA,SACAb,EAL+B,EAK/BA,SACAoC,EAN+B,EAM/BA,OACAD,EAP+B,EAO/BA,MACAE,EAR+B,EAQ/BA,SACAzD,EAT+B,EAS/BA,UAEIoG,EAAS,CACb7H,GAAIqB,EAAIrB,GACRuC,QACAE,cACAiB,WACAb,WACAoC,SACAD,QACAE,WACAzD,aAEF6F,GAAe,SAACQ,GAAD,4BAAmBA,GAAnB,CAA8BD,cAIlD1C,OAAM,SAACR,GACN/C,QAAQ+C,MAAM,0BAA2BA,MAE7C,MAEF,IAAK,SACH6C,EAAGzC,WAAW,WACX0C,QAAQ,YAAa,QACrBlG,MACAsD,MAAK,SAAC6C,GACLA,EAAcC,SAAQ,SAACtG,GACrB,GAA0B,WAAtBA,EAAIuG,OAAO3C,OAAqB,CAAC,IAAD,EAU9B5D,EAAIuG,OARNrF,EAFgC,EAEhCA,MACAE,EAHgC,EAGhCA,YACAiB,EAJgC,EAIhCA,SACAb,EALgC,EAKhCA,SACAoC,EANgC,EAMhCA,OACAD,EAPgC,EAOhCA,MACAE,EARgC,EAQhCA,SACAzD,EATgC,EAShCA,UAEIoG,EAAS,CACb7H,GAAIqB,EAAIrB,GACRuC,QACAE,cACAiB,WACAb,WACAoC,SACAD,QACAE,WACAzD,aAEF6F,GAAe,SAACQ,GAAD,4BAAmBA,GAAnB,CAA8BD,cAIlD1C,OAAM,SAACR,GACN/C,QAAQ+C,MAAM,0BAA2BA,SAOhD,CAACW,EAAMvC,IAGR,yBAAKO,UAAU,OACb,wBAAIA,UAAW,eAAf,qBACC+D,EAAYU,OAAS,EACpB,2BAAOzE,UAAU,sDACf,+BACE,4BACE,wBAAI0E,MAAM,OAAV,SACA,wBAAIA,MAAM,OAAV,eACA,wBAAIA,MAAM,OAAV,YAGJ,+BACGX,EAAYY,KAAI,SAACJ,EAAQK,GAAT,OACf,wBAAIC,IAAKD,GACP,wBAAIF,MAAM,OAAOE,EAAQ,GACzB,4BACE,kBAAC,IAAD,CACE5E,UAAW,aACX4C,GAAE,sCAAiC2B,EAAO7H,KAEzC6H,EAAOtF,QAGZ,4BAAKsF,EAAO5C,cAMpB,wBAAI3B,UAAW,oBAAf,sBCrJO8E,G,MA7HE,WACf,IAAMrF,EAA2BC,qBAAWlD,GAM5C,OAJAyH,qBAAU,WACR3F,QAAQC,IAAI,yBAA0BkB,KACrC,CAACA,IAGF,yBAAKO,UAAW,kBACbP,EAAY9C,MACX,yBAAKqD,UAAU,yBACb,wBAAIA,UAAU,kCAAd,kBACA,yBAAKA,UAAU,aACb,yBAAKA,UAAU,OACb,yBAAKA,UAAU,iBACb,yBAAKA,UAAU,oBACb,wBAAIA,UAAU,+BACZ,wBAAIA,UAAU,mBACZ,kBAAC,IAAD,CACEA,UAAW,YACX4C,GAAI,2BAFN,uBAOF,wBAAI5C,UAAU,mBACZ,kBAAC,IAAD,CACEA,UAAW,YACX4C,GAAI,qCAFN,eAOF,wBAAI5C,UAAU,mBACZ,kBAAC,IAAD,CACEA,UAAW,YACX4C,GAAI,sCAFN,gBAOF,wBAAI5C,UAAU,mBACZ,kBAAC,IAAD,CACEA,UAAW,YACX4C,GAAI,iDAFN,2BAOoB,WAArBnD,EAAY5C,KACX,wBAAImD,UAAU,mBACZ,kBAAC,IAAD,CACEA,UAAW,YACX4C,GAAI,6CAFN,uBAOA,KACkB,WAArBnD,EAAY5C,KACX,wBAAImD,UAAU,mBACZ,kBAAC,IAAD,CACEA,UAAW,YACX4C,GAAI,wCAFN,kBAOA,KACkB,WAArBnD,EAAY5C,KACX,wBAAImD,UAAU,mBACZ,kBAAC,IAAD,CACEA,UAAW,YACX4C,GAAI,yCAFN,mBAOA,QAKV,yBAAK5C,UAAU,iBACb,yBAAKA,UAAU,oBACb,wBAAIA,UAAU,kCACXP,EAAY7C,aAEf,wBAAIoD,UAAU,+BACZ,wBAAIA,UAAU,mBACZ,0BAAMA,UAAU,+BAAhB,WAEQ,IACPP,EAAY/C,IAEf,wBAAIsD,UAAU,mBACZ,0BAAMA,UAAU,+BAAhB,QAA0D,IACzDP,EAAY7C,aAEf,wBAAIoD,UAAU,mBACZ,0BAAMA,UAAU,+BAAhB,SAA2D,IAC1DP,EAAY9C,OAEf,wBAAIqD,UAAU,mBACZ,0BAAMA,UAAU,+BAAhB,iBAEQ,IAHV,gBAaZ,wBAAIA,UAAW,eAAf,0F,gBC3BO+E,G,MAtFD,WACZ,IAAMrC,EAAUC,cADE,EAE4B3D,mBAAS,CACrDrC,MAAO,uBACPqI,SAAU,aAJM,mBAEXC,EAFW,KAEMC,EAFN,KAOVvI,EAAoBsI,EAApBtI,MAAOqI,EAAaC,EAAbD,SAETrF,EAAe,SAACC,GAAgD,IAAD,EAC3CA,EAAMC,OAAtBC,EAD2D,EAC3DA,KAAMC,EADqD,EACrDA,MACdmF,GAAmB,SAACC,GAAD,sBACdA,EADc,eAEhBrF,EAAOC,QAINqF,EAAY,uCAAG,WAAOxF,GAAP,SAAAhC,EAAA,6DACnBgC,EAAMM,iBADa,kBAIXzB,EAAK4G,2BAA2B1I,EAAOqI,GAJ5B,OAKjBE,EAAmB,CACjBvI,MAAO,GACPqI,SAAU,KAEZtC,EAAQc,KAAK,gBATI,gDAWjBlF,QAAQ+C,MAAM,wBAAd,MAXiB,yDAAH,sDAelB,OACE,yBAAKrB,UAAW,oBACd,0BAAMA,UAAU,cAAcC,SAAUmF,GACtC,yBACEpF,UAAU,OACVsF,IAAI,gJACJC,IAAI,WACJC,MAAM,KACNC,OAAO,OAET,wBAAIzF,UAAU,8BAAd,gBACA,yBAAKA,UAAU,cACb,2BAAO+B,QAAQ,aAAa/B,UAAU,WAAtC,iBAGA,2BACEgC,KAAK,QACLlC,KAAK,QACLpD,GAAG,aACHsD,UAAU,eACViC,YAAY,gBACZlC,MAAOpD,EACPuF,SAAUvC,EACV+F,UAAQ,KAGZ,yBAAK1F,UAAU,cACb,2BAAO+B,QAAQ,gBAAgB/B,UAAU,WAAzC,YAGA,2BACEgC,KAAK,WACLlC,KAAK,WACLpD,GAAG,gBACHsD,UAAU,eACViC,YAAY,WACZlC,MAAOiF,EACP9C,SAAUvC,EACV+F,UAAQ,KAGZ,yBAAK1F,UAAU,iBACb,+BACE,2BAAOgC,KAAK,WAAWjC,MAAM,gBAD/B,iBAIF,4BAAQC,UAAU,gCAAgCgC,KAAK,UAAvD,aC+FO2D,G,MA7KE,WACf,IAAMjD,EAAUC,cADK,EAEyB3D,mBAAuB,CACnE4G,MAAO,YACPC,MAAO,UACPhJ,KAAM,YACNF,MAAO,uBACPqI,SAAU,WACVc,gBAAiB,aARE,mBAEdb,EAFc,KAEGC,EAFH,KAYnBU,EAMEX,EANFW,MACAC,EAKEZ,EALFY,MACAhJ,EAIEoI,EAJFpI,KACAF,EAGEsI,EAHFtI,MACAqI,EAEEC,EAFFD,SACAc,EACEb,EADFa,gBAGInG,EAAe,SAACC,GAAgD,IAAD,EAC3CA,EAAMC,OAAtBC,EAD2D,EAC3DA,KAAMC,EADqD,EACrDA,MACdmF,GAAmB,SAACC,GAAD,sBACdA,EADc,eAEhBrF,EAAOC,QAINqF,EAAY,uCAAG,WAAOxF,GAAP,iBAAAhC,EAAA,yDACnBU,QAAQC,IAAI,wBACZqB,EAAMM,iBAEF8E,IAAac,EAJE,uBAKjBvD,MAAM,0BALW,mDAUW9D,EAAKsH,+BAC/BpJ,EACAqI,GAZe,uBAUTgB,EAVS,EAUTA,KAVS,UAcXvI,EAA0BuI,EAAM,CACpCpJ,YAAY,GAAD,OAAKgJ,EAAL,YAAcC,GACzBhJ,SAhBe,QAkBjBqI,EAAmB,CACjBU,MAAO,GACPC,MAAO,GACPlJ,MAAO,GACPqI,SAAU,GACVc,gBAAiB,KAEnBpD,EAAQc,KAAK,gBAzBI,kDA2BjBlF,QAAQ+C,MAAM,wBAAd,MA3BiB,0DAAH,sDA+BlB,OACE,yBAAKrB,UAAW,oBACd,0BAAMA,UAAU,cAAcC,SAAUmF,GACtC,yBACEpF,UAAU,OACVsF,IAAI,gJACJC,IAAI,WACJC,MAAM,KACNC,OAAO,OAET,wBAAIzF,UAAU,8BAAd,mBACA,yBAAKA,UAAU,cACb,2BAAO+B,QAAQ,YAAY/B,UAAU,WAArC,cAGA,2BACEgC,KAAK,OACLlC,KAAK,QACLpD,GAAG,YACHsD,UAAU,eACViC,YAAY,aACZlC,MAAO6F,EACP1D,SAAUvC,EACV+F,UAAQ,KAGZ,yBAAK1F,UAAU,cACb,2BAAO+B,QAAQ,WAAW/B,UAAU,WAApC,aAGA,2BACEgC,KAAK,OACLlC,KAAK,QACLpD,GAAG,WACHsD,UAAU,eACViC,YAAY,YACZlC,MAAO8F,EACP3D,SAAUvC,EACV+F,UAAQ,KAGZ,yBAAK1F,UAAU,cACb,2BAAO+B,QAAQ,mBAAmB/B,UAAU,WAA5C,qBAGA,2BACEgC,KAAK,OACLlC,KAAK,OACLpD,GAAG,mBACHsD,UAAU,eACViC,YAAY,oBACZlC,MAAOlD,EACPqF,SAAUvC,EACV+F,UAAQ,KAGZ,yBAAK1F,UAAU,cACb,2BAAO+B,QAAQ,gBAAgB/B,UAAU,WAAzC,iBAGA,2BACEgC,KAAK,QACLlC,KAAK,QACLpD,GAAG,gBACHsD,UAAU,eACViC,YAAY,gBACZC,SAAUvC,EACVI,MAAOpD,EACP+I,UAAQ,KAGZ,yBAAK1F,UAAU,cACb,2BAAO+B,QAAQ,mBAAmB/B,UAAU,WAA5C,YAGA,2BACEgC,KAAK,WACLlC,KAAK,WACLpD,GAAG,mBACHsD,UAAU,eACViC,YAAY,WACZlC,MAAOiF,EACP9C,SAAUvC,EACV+F,UAAQ,KAGZ,yBAAK1F,UAAU,cACb,2BAAO+B,QAAQ,uBAAuB/B,UAAU,WAAhD,oBAGA,2BACEgC,KAAK,WACLlC,KAAK,kBACLpD,GAAG,uBACHsD,UAAU,eACViC,YAAY,mBACZlC,MAAO+F,EACP5D,SAAUvC,EACV+F,UAAQ,KAGZ,yBAAK1F,UAAU,iBACb,+BACE,2BAAOgC,KAAK,WAAWjC,MAAM,gBAD/B,iBAIF,4BAAQC,UAAU,gCAAgCgC,KAAK,UAAvD,gBC1JOiE,EAfU,WACvB,OACE,yBAAKjG,UAAW,OACd,yBAAKA,UAAU,OACb,yBAAKA,UAAU,sBACb,kBAAC,EAAD,OAEF,yBAAKA,UAAU,sBACb,kBAAC,EAAD,UCoTKkG,EAnTW,WAAO,IACzBC,EAAaC,cAAbD,SACA1G,EAA2BC,qBAAWlD,GAFd,EAIIwC,mBAA0B,IAJ9B,mBAIvBqH,EAJuB,KAIZC,EAJY,OAKEtH,mBAAS,CACvCtC,GAAI,GACJE,YAAa,GACbD,MAAO,KARqB,mBAKvBiF,EALuB,KAKb2E,EALa,OAUFvH,mBAAS,IAVP,mBAUvB2C,EAVuB,KAUf6E,EAVe,OAYFxH,mBAAiB,CAC3CtC,GAAI,GACJuC,MAAO,GACPE,YAAa,GACbiB,SAAU,GACVb,SAAU,GACVoC,OAAQ,GACRD,MAAO,CACL9E,YAAa,GACbD,MAAO,GACPD,GAAI,IAENkF,SAAU,CACRhF,YAAa,GACbD,MAAO,GACPD,GAAI,IAENyB,UAAW,KA7BiB,mBAYvBoG,EAZuB,KAYfkC,EAZe,KAgC9BxC,qBAAU,WACRC,EAAGzC,WAAW,WACX1D,IAAIoI,GACJlI,MACAsD,MAAK,SAAUxD,GACd,GAAIA,EAAIG,OAAQ,CAAC,IAAD,EAUVH,EAAIuG,OARNrF,EAFY,EAEZA,MACAE,EAHY,EAGZA,YACAiB,EAJY,EAIZA,SACAb,EALY,EAKZA,SACAoC,EANY,EAMZA,OACAD,EAPY,EAOZA,MACAE,EARY,EAQZA,SACAzD,EATY,EASZA,UAEFsI,EAAU,CACR/J,GAAIqB,EAAIrB,GACRuC,QACAE,cACAiB,WACAb,WACAoC,SACAD,QACAE,WACAzD,UAAWA,EAAUuI,SAASC,aAEhCJ,EAAY3E,GACZ4E,EAAU7E,QAGVrD,QAAQC,IAAI,wBAGfsD,OAAM,SAAUR,GACf/C,QAAQ+C,MAAM,0BAA2BA,MAG7C6C,EAAGzC,WAAW,SACXxD,MACAsD,MAAK,SAAC6C,GACLA,EAAcC,SAAQ,SAACtG,GACrBuI,GAAa,SAAC9B,GAAD,4BACRA,GADQ,CAEX,CACE9H,GAAIqB,EAAIrB,GACRE,YAAamB,EAAIuG,OAAO1H,YACxBD,MAAOoB,EAAIuG,OAAO3H,kBAKzBkF,OAAM,SAACR,GACN/C,QAAQ+C,MAAM,kCAAmCA,QAEpD,CAAC8E,IAEJ,IAmCMS,EAAmB,WACvBnD,OAAOP,SAASQ,UAGZmD,EAAqB,SAACjH,GAC1B4G,EAAU5G,EAAMC,OAAOE,QAGnB+G,EAAqB,SAAClH,GAC1BA,EAAMM,iBAENgE,EAAGzC,WAAW,WACX1D,IAAIoI,GACJ9H,IACC,CACEsD,UAEF,CAAEG,OAAO,IAEVP,MAAK,WACJjD,QAAQC,IAAI,mCAEbgD,MAAK,WACJqF,OAED/E,OAAM,SAACR,GACN/C,QAAQ+C,MAAM,0BAA2BA,OAI/C,OACE,yBAAKrB,UAAW,OACd,wBAAIA,UAAW,eAAf,uBACA,yBAAKA,UAAU,yBACb,wBAAIA,UAAU,cACZ,wBAAIA,UAAU,mBACZ,0BAAMA,UAAW,oBAAjB,MADF,IACkDmG,GAElD,wBAAInG,UAAU,mBACZ,0BAAMA,UAAW,oBAAjB,SADF,IACqDuE,EAAOtF,OAE5D,wBAAIe,UAAU,mBACZ,0BAAMA,UAAW,oBAAjB,eAAwD,IACvDuE,EAAOpF,aAEV,wBAAIa,UAAW,mBACb,yBACEsF,IAAKf,EAAOnE,SACZmF,IAAI,oBACJvF,UAAW,eAGf,wBAAIA,UAAU,mBACZ,0BAAMA,UAAW,oBAAjB,cAAuD,IACtDuE,EAAOpG,WAEV,wBAAI6B,UAAU,mBACZ,0BAAMA,UAAW,oBAAjB,SAAkD,IACjDuE,EAAO7C,MAAM9E,aAEhB,wBAAIoD,UAAU,mBACZ,0BAAMA,UAAW,oBAAjB,WAAoD,IACnDuE,EAAO3C,SAAShF,YACK,WAArB6C,EAAY5C,KACX,yBAAKmD,UAAW,QACd,4BACEA,UAAU,cACVF,KAAM,WACNpD,GAAG,WACHqD,MAAO6B,EAAShF,YAChBsF,SAzGa,SAC3BtC,GAEAyG,EAAUhC,SAAQ,SAAC2B,GACbA,EAAKpJ,cAAgBgD,EAAMC,OAAOE,OACpCwG,EAAYP,QAsGF,4BAAQhG,UAAW,IAAnB,cACCqG,EAAU1B,KAAI,SAACqB,EAAMpB,GAAP,OACb,4BAAQC,IAAKD,GAAQoB,EAAKpJ,iBAEpB,IACV,4BACEoD,UAAU,sBACVsD,QAxGa,SAAC1D,GAC5BA,EAAMM,iBACN,IAAMyB,EAASC,EAAW,WAAa,aAGvCsC,EAAGzC,WAAW,WACX1D,IAAIoI,GACJ9H,IACC,CACEuD,WACAD,UAEF,CAAEG,OAAO,IAEVP,MAAK,WACJjD,QAAQC,IAAI,qCAEbgD,MAAK,WACJqF,OAED/E,OAAM,SAACR,GACN/C,QAAQ+C,MAAM,2BAA4BA,QAiFlC,oBAQF,IAGJ,wBAAIrB,UAAU,mBACZ,0BAAMA,UAAW,oBAAjB,UADF,IACsDuE,EAAO5C,OACzD,WACA,OAAQlC,EAAY5C,MAClB,IAAK,SACH,OAAO0H,EAAO3C,SAAShF,cACrB6C,EAAY7C,YACZ,yBAAKoD,UAAW,QACd,4BACEA,UAAU,cACVF,KAAM,SACNpD,GAAG,SACHqD,MAAO4B,EACPO,SAAU2E,GAEV,4BAAQ7G,UAAW,IAAnB,cACA,0CACA,2CACQ,IACV,4BACEA,UAAU,sBACVsD,QAASwD,GAFX,kBAQF,GAGJ,IAAK,SACH,OACE,yBAAK9G,UAAW,QACd,4BACEA,UAAU,cACVF,KAAM,SACNpD,GAAG,SACHqD,MAAO4B,EACPO,SAAU2E,GAEV,4BAAQ7G,UAAW,IAAnB,cACA,4CACA,6CACA,4CACA,0CACA,8CACA,2CACQ,IACV,4BACEA,UAAU,sBACVsD,QAASwD,GAFX,kBASN,IAAK,YACH,OAAOvC,EAAO3C,SAAShF,cACrB6C,EAAY7C,YACZ,yBAAKoD,UAAW,QACd,4BACEA,UAAU,cACVF,KAAM,WACNpD,GAAG,4BACHqD,MAAO4B,EACPO,SAAU2E,GAEV,4BAAQ7G,UAAW,IAAnB,cACA,+CACA,2CACA,0CACQ,IACV,4BACEA,UAAU,sBACVsD,QAASwD,GAFX,kBAQF,IA/EN,QC1JCC,EA7DA,WAAO,IAAD,EACmB/H,mBAAsB,CAC1DtC,GAAI,GACJC,MAAO,GACPC,YAAa,GACbC,KAAM,GACNC,UAAW,KANM,mBACZ2C,EADY,KACCuH,EADD,KA8BnB,OArBA/C,qBAAU,WACR,IAAMgD,EAAsBxI,EAAKyI,mBAAL,+BAAAtJ,EAAA,MAAwB,WAAOF,GAAP,eAAAE,EAAA,0DAC9CF,EAD8C,gCAE1BD,EAA0BC,OAAU4E,GAFV,OAIzC,QAFDzE,EAF0C,cAIzC,IAAPA,KAASsJ,YAAW,SAACC,GAAc,IAAD,QAChCJ,EAAe,CACbtK,GAAI0K,EAAS1K,GACbC,MAAK,UAAEyK,EAAS9C,cAAX,aAAE,EAAiB3H,MACxBC,YAAW,UAAEwK,EAAS9C,cAAX,aAAE,EAAiB1H,YAC9BC,KAAI,UAAEuK,EAAS9C,cAAX,aAAE,EAAiBzH,KACvBC,UAAS,UAAEsK,EAAS9C,cAAX,aAAE,EAAiBxH,eAVgB,2CAAxB,uDAe5B,OAAO,WACLmK,OAED,IAGD,6BACE,kBAAC,EAAmBI,SAApB,CAA6BtH,MAAON,GAClC,kBAAC,IAAD,KACE,kBAAC,EAAD,MACA,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO6H,OAAK,EAACC,KAAM,eAAgBC,UAAW1C,IAC9C,kBAAC,IAAD,CACEwC,OAAK,EACLC,KAAM,kCACNC,UAAWvB,IAEb,kBAAC,IAAD,CACEqB,OAAK,EACLC,KAAM,0BACNC,UAAWzI,IAEb,kBAAC,IAAD,CAAOwI,KAAM,4BAA6BC,UAAW7D,IACrD,kBAAC,IAAD,CACE2D,OAAK,EACLC,KAAM,wCACNC,UAAWtB,OAKnB,kBAAC,EAAD,Q,kBC7DNuB,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.810f40b6.chunk.js","sourcesContent":["import { createContext } from \"react\";\r\nimport { CurrentUser } from \"../../typescript-interfaces/current-user.interface\";\r\n\r\nconst CurrentUserContext = createContext<CurrentUser>({\r\n  id: \"\",\r\n  email: \"\",\r\n  displayName: \"\",\r\n  role: \"\",\r\n  myTickets: [],\r\n});\r\n\r\nexport default CurrentUserContext;\r\n","import firebase from \"firebase/app\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/storage\";\r\n\r\nconst config = {\r\n  apiKey: \"AIzaSyBcSu1C4Qdud_a52NOWikVSOj0njkwODpc\",\r\n  authDomain: \"bugtrail-v2.firebaseapp.com\",\r\n  databaseURL: \"https://bugtrail-v2.firebaseio.com\",\r\n  projectId: \"bugtrail-v2\",\r\n  storageBucket: \"bugtrail-v2.appspot.com\",\r\n  messagingSenderId: \"723885045033\",\r\n  appId: \"1:723885045033:web:4eeef384d51bf7c025b338\",\r\n  measurementId: \"G-VH49TBGZ9N\",\r\n};\r\n\r\nfirebase.initializeApp(config);\r\n\r\nexport const createUserProfileDocument = async (\r\n  userAuth: firebase.User | null,\r\n  additionalData: any\r\n) => {\r\n  if (!userAuth) return;\r\n\r\n  const userRef = firestore.doc(`users/${userAuth.uid}`);\r\n\r\n  const snapShot = await userRef.get();\r\n\r\n  if (!snapShot.exists) {\r\n    const { displayName, email } = userAuth;\r\n    const createdAt = new Date();\r\n    try {\r\n      await userRef.set({\r\n        displayName,\r\n        email,\r\n        createdAt,\r\n        myTickets: [\"\"],\r\n        ...additionalData,\r\n      });\r\n    } catch (error) {\r\n      console.log(\"error creating user\", error.message);\r\n    }\r\n  }\r\n\r\n  return userRef;\r\n};\r\n\r\nexport const getCurrentUser = () => {\r\n  return new Promise((resolve, reject) => {\r\n    const unsubscribe = auth.onAuthStateChanged((userAuth) => {\r\n      unsubscribe();\r\n      resolve(userAuth);\r\n    }, reject);\r\n  });\r\n};\r\n\r\nexport const auth = firebase.auth();\r\nexport const firestore = firebase.firestore();\r\nexport const storage = firebase.storage();\r\n\r\nexport const googleProvider = new firebase.auth.GoogleAuthProvider();\r\ngoogleProvider.setCustomParameters({ prompt: \"select_account\" });\r\nexport const signInWithGoogle = () => auth.signInWithPopup(googleProvider);\r\n\r\nexport default firebase;\r\n","import React, { useContext, useState } from \"react\";\r\nimport CurrentUserContext from \"../../providers/current-user/current-user.provider\";\r\nimport { CurrentUser } from \"../../typescript-interfaces/current-user.interface\";\r\nimport { v4 } from \"uuid\";\r\nimport { firestore, storage } from \"../../firebase/firebase.utils\";\r\nimport firebase from \"firebase/app\";\r\n\r\nconst DefectForm = () => {\r\n  const [title, setTitle] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [defectImage, setDefectImage] = useState<File>();\r\n  const [priority, setPriority] = useState(\"\");\r\n\r\n  const currentUser: CurrentUser = useContext(CurrentUserContext);\r\n\r\n  const handleChange = (\r\n    event: React.ChangeEvent<\r\n      HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement\r\n    >\r\n  ) => {\r\n    const { name, value } = event.target;\r\n    switch (name) {\r\n      case \"title\":\r\n        setTitle(value);\r\n        break;\r\n\r\n      case \"description\":\r\n        setDescription(value);\r\n        break;\r\n\r\n      case \"priority\":\r\n        setPriority(value);\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const handleDefectImageChange = (\r\n    event: React.ChangeEvent<HTMLInputElement>\r\n  ) => {\r\n    if (event.target.files && event.target.files[0].size <= 3145728) {\r\n      setDefectImage(event.target.files ? event.target.files[0] : undefined);\r\n      console.log(defectImage);\r\n    } else {\r\n      alert(\"The maximum image size allowed is 3MB\");\r\n      setDefectImage(undefined);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = (event: React.FormEvent) => {\r\n    event.preventDefault();\r\n    const uid = v4();\r\n    const createdAt = new Date();\r\n    let imageUrl = \"\";\r\n\r\n    if (defectImage) {\r\n      var storageRef = storage.ref();\r\n\r\n      var metadata = {\r\n        contentType: \"image/jpeg\",\r\n      };\r\n\r\n      var uploadTask = storageRef\r\n        .child(\"images/\" + defectImage.name)\r\n        .put(defectImage, metadata);\r\n\r\n      uploadTask.on(\r\n        firebase.storage.TaskEvent.STATE_CHANGED,\r\n        function (snapshot: firebase.storage.UploadTaskSnapshot) {\r\n          var progress =\r\n            (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n          console.log(\"Upload is \" + progress + \"% done\");\r\n          switch (snapshot.state) {\r\n            case firebase.storage.TaskState.PAUSED:\r\n              console.log(\"Upload is paused\");\r\n              break;\r\n            case firebase.storage.TaskState.RUNNING:\r\n              console.log(\"Upload is running\");\r\n              break;\r\n          }\r\n        },\r\n        (error: Error) => {\r\n          console.error(\"Couldn't upload image: \", error);\r\n        },\r\n        () => {\r\n          uploadTask.snapshot.ref\r\n            .getDownloadURL()\r\n            .then(function (downloadURL: string) {\r\n              console.log(\"File available at\", downloadURL);\r\n              imageUrl = downloadURL;\r\n            })\r\n            .then(() => {\r\n              firestore\r\n                .collection(\"tickets\")\r\n                .doc(uid)\r\n                .set({\r\n                  owner: {\r\n                    id: currentUser.id,\r\n                    displayName: currentUser.displayName,\r\n                    email: currentUser.email,\r\n                  },\r\n                  title,\r\n                  description,\r\n                  imageUrl,\r\n                  priority,\r\n                  createdAt,\r\n                  status: \"unassigned\",\r\n                  assignee: {\r\n                    id: \"\",\r\n                    displayName: \"\",\r\n                    email: \"\",\r\n                  },\r\n                })\r\n                .then(() => {\r\n                  console.log(\"Ticket submitted successfully!\");\r\n                })\r\n                .then(() => {\r\n                  setTitle(\"\");\r\n                  setDescription(\"\");\r\n                  setPriority(\"\");\r\n                })\r\n                .catch(function (error) {\r\n                  console.error(\"Error creating ticket: \", error);\r\n                });\r\n            });\r\n        }\r\n      );\r\n    }\r\n\r\n    firestore\r\n      .collection(\"users\")\r\n      .doc(currentUser.id)\r\n      .set(\r\n        {\r\n          myTickets: [...currentUser.myTickets, uid],\r\n        },\r\n        { merge: true }\r\n      );\r\n  };\r\n\r\n  return (\r\n    <div className={\"p-5\"}>\r\n      <h1 className={\"text-center\"}>Raising a new defect</h1>\r\n      <form className={\"mb-5\"} onSubmit={handleSubmit}>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"defectTitle\">Title</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"title\"\r\n            className=\"form-control\"\r\n            id=\"defectTitle\"\r\n            placeholder=\"Issue title here...\"\r\n            value={title}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"defectDescription\">Description</label>\r\n          <textarea\r\n            className=\"form-control\"\r\n            name=\"description\"\r\n            id=\"defectDescription\"\r\n            placeholder=\"Write a detailed description of the issue here...\"\r\n            rows={3}\r\n            value={description}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"defectImage\">Defect Image</label>\r\n          <input\r\n            type=\"file\"\r\n            name=\"defectImage\"\r\n            className=\"form-control-file\"\r\n            onChange={handleDefectImageChange}\r\n            id=\"defectImage\"\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"defectPriority\">Priority Level</label>\r\n          <select\r\n            className=\"form-control\"\r\n            name=\"priority\"\r\n            id=\"defectPriority\"\r\n            value={priority}\r\n            onChange={handleChange}\r\n          >\r\n            <option>--Select--</option>\r\n            <option>Severe</option>\r\n            <option>High</option>\r\n            <option>Medium</option>\r\n            <option>Low</option>\r\n            <option>Feature request</option>\r\n          </select>\r\n        </div>\r\n        <button type={\"submit\"} className={\"btn btn-dark\"}>\r\n          Submit Defect\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DefectForm;\r\n","import React from \"react\";\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <div className=\"card-footer text-white mt-auto fixed-bottom text-center bg-dark\">\r\n      <h6>Created by Nikhil Choudhary</h6>\r\n      <p>&copy; Copyright 2020</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import React, { useContext } from \"react\";\r\nimport { Link, withRouter, useHistory } from \"react-router-dom\";\r\nimport { auth } from \"../../firebase/firebase.utils\";\r\nimport CurrentUserContext from \"../../providers/current-user/current-user.provider\";\r\nimport { CurrentUser } from \"../../typescript-interfaces/current-user.interface\";\r\nimport \"./navbar.styles.scss\";\r\n\r\nconst Navbar = () => {\r\n  const history = useHistory();\r\n  const currentUser: CurrentUser = useContext(CurrentUserContext);\r\n\r\n  const refreshComponent = () => {\r\n    window.location.reload();\r\n  };\r\n\r\n  return (\r\n    <div className={\"bootstrap-navbar\"}>\r\n      <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\r\n        <Link to={\"/bugtrail-v3\"} className={\"navbar-brand\"}>\r\n          BUGTRAIL\r\n        </Link>\r\n        <button\r\n          className=\"navbar-toggler\"\r\n          type=\"button\"\r\n          data-toggle=\"collapse\"\r\n          data-target=\"#navbarNav\"\r\n          aria-controls=\"navbarNav\"\r\n          aria-expanded=\"false\"\r\n          aria-label=\"Toggle navigation\"\r\n        >\r\n          <span className=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n        <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n          <ul className=\"navbar-nav\">\r\n            <li\r\n              className={`nav-item ${\r\n                history.location.pathname === \"/bugtrail-v3\" ? \"active\" : \"\"\r\n              }`}\r\n            >\r\n              <Link to={\"/bugtrail-v3\"} className={\"nav-link\"}>\r\n                Home <span className=\"sr-only\">(current)</span>\r\n              </Link>\r\n            </li>\r\n            <li\r\n              className={`nav-item ${\r\n                history.location.pathname === \"/bugtrail-v3/register-and-login\"\r\n                  ? \"active\"\r\n                  : \"\"\r\n              }`}\r\n            >\r\n              {!currentUser.email && (\r\n                <Link\r\n                  to={\"/bugtrail-v3/register-and-login\"}\r\n                  className={\"nav-link\"}\r\n                >\r\n                  Login and Register\r\n                </Link>\r\n              )}\r\n            </li>\r\n            <li>\r\n              {currentUser.email && (\r\n                <div\r\n                  className={\"nav-link\"}\r\n                  style={{ cursor: \"pointer\" }}\r\n                  onClick={() => {\r\n                    auth.signOut();\r\n                    history.push(\"/bugtrail-v3\");\r\n                    refreshComponent();\r\n                  }}\r\n                >\r\n                  Logout\r\n                </div>\r\n              )}\r\n            </li>\r\n          </ul>\r\n          <span className=\"navbar-text ml-auto\">\r\n            {currentUser.email ? `Hi, ${currentUser.displayName}` : \"\"}\r\n          </span>\r\n        </div>\r\n      </nav>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withRouter(Navbar);\r\n","import { firestore } from \"firebase\";\r\nimport React, { useContext, useEffect, useState } from \"react\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport { firestore as db } from \"../../firebase/firebase.utils\";\r\nimport CurrentUserContext from \"../../providers/current-user/current-user.provider\";\r\nimport { CurrentUser } from \"../../typescript-interfaces/current-user.interface\";\r\nimport { Ticket } from \"../../typescript-interfaces/ticket.interface\";\r\n\r\nconst useQuery = () => {\r\n  return new URLSearchParams(useLocation().search);\r\n};\r\n\r\nconst ViewTickets = () => {\r\n  let query = useQuery();\r\n  let type = query.get(\"type\");\r\n  const [ticketsList, setTicketsList] = useState<Array<Ticket>>([]);\r\n\r\n  const currentUser: CurrentUser = useContext(CurrentUserContext);\r\n\r\n  useEffect(() => {\r\n    setTicketsList([]);\r\n    switch (type) {\r\n      case \"all\":\r\n        db.collection(\"tickets\")\r\n          .orderBy(\"createdAt\", \"desc\")\r\n          .get()\r\n          .then((querySnapshot: firestore.QuerySnapshot) => {\r\n            querySnapshot.forEach((doc) => {\r\n              const {\r\n                title,\r\n                description,\r\n                imageUrl,\r\n                priority,\r\n                status,\r\n                owner,\r\n                assignee,\r\n                createdAt,\r\n              } = doc.data();\r\n              const ticket = {\r\n                id: doc.id,\r\n                title,\r\n                description,\r\n                imageUrl,\r\n                priority,\r\n                status,\r\n                owner,\r\n                assignee,\r\n                createdAt,\r\n              };\r\n              setTicketsList((prevState) => [...prevState, ticket]);\r\n            });\r\n          })\r\n          .catch((error: firestore.FirestoreError) => {\r\n            console.error(\"Error getting document:\", error);\r\n          });\r\n        break;\r\n\r\n      case \"my\":\r\n        db.collection(\"tickets\")\r\n          .orderBy(\"createdAt\", \"desc\")\r\n          .get()\r\n          .then((querySnapshot: firestore.QuerySnapshot) => {\r\n            querySnapshot.forEach((doc) => {\r\n              if (doc.data().owner.id === currentUser.id) {\r\n                const {\r\n                  title,\r\n                  description,\r\n                  imageUrl,\r\n                  priority,\r\n                  status,\r\n                  owner,\r\n                  assignee,\r\n                  createdAt,\r\n                } = doc.data();\r\n                const ticket = {\r\n                  id: doc.id,\r\n                  title,\r\n                  description,\r\n                  imageUrl,\r\n                  priority,\r\n                  status,\r\n                  owner,\r\n                  assignee,\r\n                  createdAt,\r\n                };\r\n                setTicketsList((prevState) => [...prevState, ticket]);\r\n              }\r\n            });\r\n          })\r\n          .catch((error: firestore.FirestoreError) => {\r\n            console.error(\"Error getting document:\", error);\r\n          });\r\n        break;\r\n\r\n      case \"assigned-to-me\":\r\n        db.collection(\"tickets\")\r\n          .orderBy(\"createdAt\", \"desc\")\r\n          .get()\r\n          .then((querySnapshot: firestore.QuerySnapshot) => {\r\n            querySnapshot.forEach((doc) => {\r\n              if (\r\n                doc.data().status !== \"fixed\" &&\r\n                doc.data().assignee.id === currentUser.id\r\n              ) {\r\n                const {\r\n                  title,\r\n                  description,\r\n                  imageUrl,\r\n                  priority,\r\n                  status,\r\n                  owner,\r\n                  assignee,\r\n                  createdAt,\r\n                } = doc.data();\r\n                const ticket = {\r\n                  id: doc.id,\r\n                  title,\r\n                  description,\r\n                  imageUrl,\r\n                  priority,\r\n                  status,\r\n                  owner,\r\n                  assignee,\r\n                  createdAt,\r\n                };\r\n                setTicketsList((prevState) => [...prevState, ticket]);\r\n              }\r\n            });\r\n          })\r\n          .catch((error: firestore.FirestoreError) => {\r\n            console.error(\"Error getting document:\", error);\r\n          });\r\n        break;\r\n\r\n      case \"unassigned\":\r\n        db.collection(\"tickets\")\r\n          .orderBy(\"createdAt\", \"desc\")\r\n          .get()\r\n          .then((querySnapshot: firestore.QuerySnapshot) => {\r\n            querySnapshot.forEach((doc) => {\r\n              if (doc.data().status === \"unassigned\") {\r\n                const {\r\n                  title,\r\n                  description,\r\n                  imageUrl,\r\n                  priority,\r\n                  status,\r\n                  owner,\r\n                  assignee,\r\n                  createdAt,\r\n                } = doc.data();\r\n                const ticket = {\r\n                  id: doc.id,\r\n                  title,\r\n                  description,\r\n                  imageUrl,\r\n                  priority,\r\n                  status,\r\n                  owner,\r\n                  assignee,\r\n                  createdAt,\r\n                };\r\n                setTicketsList((prevState) => [...prevState, ticket]);\r\n              }\r\n            });\r\n          })\r\n          .catch((error: firestore.FirestoreError) => {\r\n            console.error(\"Error getting document:\", error);\r\n          });\r\n        break;\r\n\r\n      case \"fixed\":\r\n        db.collection(\"tickets\")\r\n          .orderBy(\"createdAt\", \"desc\")\r\n          .get()\r\n          .then((querySnapshot: firestore.QuerySnapshot) => {\r\n            querySnapshot.forEach((doc) => {\r\n              if (doc.data().status === \"fixed\") {\r\n                const {\r\n                  title,\r\n                  description,\r\n                  imageUrl,\r\n                  priority,\r\n                  status,\r\n                  owner,\r\n                  assignee,\r\n                  createdAt,\r\n                } = doc.data();\r\n                const ticket = {\r\n                  id: doc.id,\r\n                  title,\r\n                  description,\r\n                  imageUrl,\r\n                  priority,\r\n                  status,\r\n                  owner,\r\n                  assignee,\r\n                  createdAt,\r\n                };\r\n                setTicketsList((prevState) => [...prevState, ticket]);\r\n              }\r\n            });\r\n          })\r\n          .catch((error: firestore.FirestoreError) => {\r\n            console.error(\"Error getting document:\", error);\r\n          });\r\n        break;\r\n\r\n      case \"failed\":\r\n        db.collection(\"tickets\")\r\n          .orderBy(\"createdAt\", \"desc\")\r\n          .get()\r\n          .then((querySnapshot: firestore.QuerySnapshot) => {\r\n            querySnapshot.forEach((doc) => {\r\n              if (doc.data().status === \"failed\") {\r\n                const {\r\n                  title,\r\n                  description,\r\n                  imageUrl,\r\n                  priority,\r\n                  status,\r\n                  owner,\r\n                  assignee,\r\n                  createdAt,\r\n                } = doc.data();\r\n                const ticket = {\r\n                  id: doc.id,\r\n                  title,\r\n                  description,\r\n                  imageUrl,\r\n                  priority,\r\n                  status,\r\n                  owner,\r\n                  assignee,\r\n                  createdAt,\r\n                };\r\n                setTicketsList((prevState) => [...prevState, ticket]);\r\n              }\r\n            });\r\n          })\r\n          .catch((error: firestore.FirestoreError) => {\r\n            console.error(\"Error getting document:\", error);\r\n          });\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  }, [type, currentUser]);\r\n\r\n  return (\r\n    <div className=\"p-5\">\r\n      <h2 className={\"text-center\"}>View Tickets Here</h2>\r\n      {ticketsList.length > 0 ? (\r\n        <table className=\"table table-bordered table-striped table-dark mb-5\">\r\n          <thead>\r\n            <tr>\r\n              <th scope=\"col\">S.No.</th>\r\n              <th scope=\"col\">Issue Title</th>\r\n              <th scope=\"col\">Status</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {ticketsList.map((ticket, index) => (\r\n              <tr key={index}>\r\n                <th scope=\"row\">{index + 1}</th>\r\n                <td>\r\n                  <Link\r\n                    className={\"text-white\"}\r\n                    to={`/bugtrail-v3/ticket-details/${ticket.id}`}\r\n                  >\r\n                    {ticket.title}\r\n                  </Link>\r\n                </td>\r\n                <td>{ticket.status}</td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      ) : (\r\n        <h3 className={\"text-center pt-5\"}>No tickets found</h3>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ViewTickets;\r\n","import React, { useContext, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport CurrentUserContext from \"../../providers/current-user/current-user.provider\";\r\nimport { CurrentUser } from \"../../typescript-interfaces/current-user.interface\";\r\nimport \"./homepage.styles.scss\";\r\n\r\nconst Homepage = () => {\r\n  const currentUser: CurrentUser = useContext(CurrentUserContext);\r\n\r\n  useEffect(() => {\r\n    console.log(\"Current User Context: \", currentUser);\r\n  }, [currentUser]);\r\n\r\n  return (\r\n    <div className={\"pt-3 pr-5 pl-5\"}>\r\n      {currentUser.email ? (\r\n        <div className=\"card border-dark mb-5\">\r\n          <h5 className=\"card-header text-white bg-dark\">User Dashboard</h5>\r\n          <div className=\"card-body\">\r\n            <div className=\"row\">\r\n              <div className=\"col-md-3 mb-5\">\r\n                <div className=\"card border-dark\">\r\n                  <ul className=\"list-group list-group-flush\">\r\n                    <li className=\"list-group-item\">\r\n                      <Link\r\n                        className={\"link-font\"}\r\n                        to={\"/bugtrail-v3/new-defect\"}\r\n                      >\r\n                        Raise A New Defect\r\n                      </Link>\r\n                    </li>\r\n                    <li className=\"list-group-item\">\r\n                      <Link\r\n                        className={\"link-font\"}\r\n                        to={\"/bugtrail-v3/view-tickets?type=my\"}\r\n                      >\r\n                        My Tickets\r\n                      </Link>\r\n                    </li>\r\n                    <li className=\"list-group-item\">\r\n                      <Link\r\n                        className={\"link-font\"}\r\n                        to={\"/bugtrail-v3/view-tickets?type=all\"}\r\n                      >\r\n                        All Tickets\r\n                      </Link>\r\n                    </li>\r\n                    <li className=\"list-group-item\">\r\n                      <Link\r\n                        className={\"link-font\"}\r\n                        to={\"/bugtrail-v3/view-tickets?type=assigned-to-me\"}\r\n                      >\r\n                        Tickets Assigned To Me\r\n                      </Link>\r\n                    </li>\r\n                    {currentUser.role === \"triage\" ? (\r\n                      <li className=\"list-group-item\">\r\n                        <Link\r\n                          className={\"link-font\"}\r\n                          to={\"/bugtrail-v3/view-tickets?type=unassigned\"}\r\n                        >\r\n                          Unassigned Tickets\r\n                        </Link>\r\n                      </li>\r\n                    ) : null}\r\n                    {currentUser.role === \"triage\" ? (\r\n                      <li className=\"list-group-item\">\r\n                        <Link\r\n                          className={\"link-font\"}\r\n                          to={\"/bugtrail-v3/view-tickets?type=fixed\"}\r\n                        >\r\n                          Fixed Tickets\r\n                        </Link>\r\n                      </li>\r\n                    ) : null}\r\n                    {currentUser.role === \"triage\" ? (\r\n                      <li className=\"list-group-item\">\r\n                        <Link\r\n                          className={\"link-font\"}\r\n                          to={\"/bugtrail-v3/view-tickets?type=failed\"}\r\n                        >\r\n                          Failed Tickets\r\n                        </Link>\r\n                      </li>\r\n                    ) : null}\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-md-9 mb-5\">\r\n                <div className=\"card border-dark\">\r\n                  <h5 className=\"card-header text-white bg-dark\">\r\n                    {currentUser.displayName}\r\n                  </h5>\r\n                  <ul className=\"list-group list-group-flush\">\r\n                    <li className=\"list-group-item\">\r\n                      <span className=\"badge badge-dark badge-pill\">\r\n                        User ID\r\n                      </span>{\" \"}\r\n                      {currentUser.id}\r\n                    </li>\r\n                    <li className=\"list-group-item\">\r\n                      <span className=\"badge badge-dark badge-pill\">Name</span>{\" \"}\r\n                      {currentUser.displayName}\r\n                    </li>\r\n                    <li className=\"list-group-item\">\r\n                      <span className=\"badge badge-dark badge-pill\">Email</span>{\" \"}\r\n                      {currentUser.email}\r\n                    </li>\r\n                    <li className=\"list-group-item\">\r\n                      <span className=\"badge badge-dark badge-pill\">\r\n                        Role Assigned\r\n                      </span>{\" \"}\r\n                      Tester\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <h2 className={\"text-center\"}>\r\n          Welcome to Bugtrail. A bug tracking software. Please register or login\r\n          to continue.\r\n        </h2>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Homepage;\r\n","import React, { useState } from \"react\";\r\nimport { auth } from \"../../firebase/firebase.utils\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"./login.styles.scss\";\r\n\r\ninterface UserLogin {\r\n  [fieldName: string]: string;\r\n}\r\n\r\nconst Login = () => {\r\n  const history = useHistory();\r\n  const [userCredentials, setUserCredentials] = useState({\r\n    email: \"developer@nikhil.com\",\r\n    password: \"12345678\",\r\n  });\r\n\r\n  const { email, password } = userCredentials;\r\n\r\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = event.target;\r\n    setUserCredentials((prevUserCredentials) => ({\r\n      ...prevUserCredentials,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (event: React.FormEvent) => {\r\n    event.preventDefault();\r\n\r\n    try {\r\n      await auth.signInWithEmailAndPassword(email, password);\r\n      setUserCredentials({\r\n        email: \"\",\r\n        password: \"\",\r\n      });\r\n      history.push(\"/bugtrail-v3\");\r\n    } catch (error) {\r\n      console.error(\"Couldn't login user: \", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={\"text-center mb-5\"}>\r\n      <form className=\"form-signin\" onSubmit={handleSubmit}>\r\n        <img\r\n          className=\"mb-4\"\r\n          src=\"https://banner2.cleanpng.com/20180526/ux/kisspng-software-bug-undocumented-feature-computer-softwar-5b093b61afe799.6982676615273316817205.jpg\"\r\n          alt=\"bugtrail\"\r\n          width=\"72\"\r\n          height=\"72\"\r\n        />\r\n        <h1 className=\"h3 mb-3 font-weight-normal\">Please Login</h1>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"loginEmail\" className=\"sr-only\">\r\n            Email address\r\n          </label>\r\n          <input\r\n            type=\"email\"\r\n            name=\"email\"\r\n            id=\"loginEmail\"\r\n            className=\"form-control\"\r\n            placeholder=\"Email address\"\r\n            value={email}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"loginPassword\" className=\"sr-only\">\r\n            Password\r\n          </label>\r\n          <input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            id=\"loginPassword\"\r\n            className=\"form-control\"\r\n            placeholder=\"Password\"\r\n            value={password}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"checkbox mb-3\">\r\n          <label>\r\n            <input type=\"checkbox\" value=\"remember-me\" /> Remember me\r\n          </label>\r\n        </div>\r\n        <button className=\"btn btn-lg btn-dark btn-block\" type=\"submit\">\r\n          Login\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import \"./register.styles.scss\";\r\nimport React, { useState } from \"react\";\r\nimport { auth, createUserProfileDocument } from \"../../firebase/firebase.utils\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\ninterface UserRegister {\r\n  [fieldName: string]: string;\r\n}\r\n\r\nconst Register = () => {\r\n  const history = useHistory();\r\n  const [userCredentials, setUserCredentials] = useState<UserRegister>({\r\n    fName: \"Developer\",\r\n    lName: \"Schwarz\",\r\n    role: \"developer\",\r\n    email: \"developer@nikhil.com\",\r\n    password: \"12345678\",\r\n    confirmPassword: \"12345678\",\r\n  });\r\n\r\n  const {\r\n    fName,\r\n    lName,\r\n    role,\r\n    email,\r\n    password,\r\n    confirmPassword,\r\n  } = userCredentials;\r\n\r\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = event.target;\r\n    setUserCredentials((prevUserCredentials) => ({\r\n      ...prevUserCredentials,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (event: React.FormEvent) => {\r\n    console.log(\"Entered handleSubmit\");\r\n    event.preventDefault();\r\n\r\n    if (password !== confirmPassword) {\r\n      alert(\"Passwords don't match!\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const { user }: any = await auth.createUserWithEmailAndPassword(\r\n        email,\r\n        password\r\n      );\r\n      await createUserProfileDocument(user, {\r\n        displayName: `${fName} ${lName}`,\r\n        role,\r\n      });\r\n      setUserCredentials({\r\n        fName: \"\",\r\n        lName: \"\",\r\n        email: \"\",\r\n        password: \"\",\r\n        confirmPassword: \"\",\r\n      });\r\n      history.push(\"/bugtrail-v3\");\r\n    } catch (error) {\r\n      console.error(\"Error creating user: \", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={\"text-center mb-5\"}>\r\n      <form className=\"form-signin\" onSubmit={handleSubmit}>\r\n        <img\r\n          className=\"mb-4\"\r\n          src=\"https://banner2.cleanpng.com/20180526/ux/kisspng-software-bug-undocumented-feature-computer-softwar-5b093b61afe799.6982676615273316817205.jpg\"\r\n          alt=\"bugtrail\"\r\n          width=\"72\"\r\n          height=\"72\"\r\n        />\r\n        <h1 className=\"h3 mb-3 font-weight-normal\">Please Register</h1>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"firstName\" className=\"sr-only\">\r\n            First Name\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"fName\"\r\n            id=\"firstName\"\r\n            className=\"form-control\"\r\n            placeholder=\"First Name\"\r\n            value={fName}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"lastName\" className=\"sr-only\">\r\n            Last Name\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"lName\"\r\n            id=\"lastName\"\r\n            className=\"form-control\"\r\n            placeholder=\"Last Name\"\r\n            value={lName}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"organizationRole\" className=\"sr-only\">\r\n            Organization Role\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"role\"\r\n            id=\"organizationRole\"\r\n            className=\"form-control\"\r\n            placeholder=\"Organization Role\"\r\n            value={role}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"registerEmail\" className=\"sr-only\">\r\n            Email address\r\n          </label>\r\n          <input\r\n            type=\"email\"\r\n            name=\"email\"\r\n            id=\"registerEmail\"\r\n            className=\"form-control\"\r\n            placeholder=\"Email address\"\r\n            onChange={handleChange}\r\n            value={email}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"registerPassword\" className=\"sr-only\">\r\n            Password\r\n          </label>\r\n          <input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            id=\"registerPassword\"\r\n            className=\"form-control\"\r\n            placeholder=\"Password\"\r\n            value={password}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"inputConfirmPassword\" className=\"sr-only\">\r\n            Confirm Password\r\n          </label>\r\n          <input\r\n            type=\"password\"\r\n            name=\"confirmPassword\"\r\n            id=\"inputConfirmPassword\"\r\n            className=\"form-control\"\r\n            placeholder=\"Confirm Password\"\r\n            value={confirmPassword}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"checkbox mb-3\">\r\n          <label>\r\n            <input type=\"checkbox\" value=\"remember-me\" /> Remember me\r\n          </label>\r\n        </div>\r\n        <button className=\"btn btn-lg btn-dark btn-block\" type=\"submit\">\r\n          Register\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","import \"./register-and-login.styles.scss\";\r\nimport React from \"react\";\r\nimport Login from \"../../components/login/login.component\";\r\nimport Register from \"../../components/register/register.component\";\r\n\r\nconst RegisterAndLogin = () => {\r\n  return (\r\n    <div className={\"p-5\"}>\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 col-sm-12\">\r\n          <Login />\r\n        </div>\r\n        <div className=\"col-md-6 col-sm-12\">\r\n          <Register />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RegisterAndLogin;\r\n","import { firestore } from \"firebase\";\r\nimport { firestore as db } from \"../../firebase/firebase.utils\";\r\nimport React, { useContext, useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { Ticket } from \"../../typescript-interfaces/ticket.interface\";\r\nimport CurrentUserContext from \"../../providers/current-user/current-user.provider\";\r\nimport { CurrentUser } from \"../../typescript-interfaces/current-user.interface\";\r\n\r\ninterface Assignee {\r\n  id: string;\r\n  displayName: string;\r\n  email: string;\r\n}\r\n\r\nconst TicketDetailsPage = () => {\r\n  let { ticketId } = useParams<{ ticketId: string }>();\r\n  const currentUser: CurrentUser = useContext(CurrentUserContext);\r\n\r\n  const [usersList, setUsersList] = useState<Array<Assignee>>([]);\r\n  const [assignee, setAssignee] = useState({\r\n    id: \"\",\r\n    displayName: \"\",\r\n    email: \"\",\r\n  });\r\n  const [status, setStatus] = useState(\"\");\r\n\r\n  const [ticket, setTicket] = useState<Ticket>({\r\n    id: \"\",\r\n    title: \"\",\r\n    description: \"\",\r\n    imageUrl: \"\",\r\n    priority: \"\",\r\n    status: \"\",\r\n    owner: {\r\n      displayName: \"\",\r\n      email: \"\",\r\n      id: \"\",\r\n    },\r\n    assignee: {\r\n      displayName: \"\",\r\n      email: \"\",\r\n      id: \"\",\r\n    },\r\n    createdAt: \"\",\r\n  });\r\n\r\n  useEffect(() => {\r\n    db.collection(\"tickets\")\r\n      .doc(ticketId)\r\n      .get()\r\n      .then(function (doc: firestore.DocumentData) {\r\n        if (doc.exists) {\r\n          const {\r\n            title,\r\n            description,\r\n            imageUrl,\r\n            priority,\r\n            status,\r\n            owner,\r\n            assignee,\r\n            createdAt,\r\n          } = doc.data();\r\n          setTicket({\r\n            id: doc.id,\r\n            title,\r\n            description,\r\n            imageUrl,\r\n            priority,\r\n            status,\r\n            owner,\r\n            assignee,\r\n            createdAt: createdAt.toDate().toString(),\r\n          });\r\n          setAssignee(assignee);\r\n          setStatus(status);\r\n        } else {\r\n          // doc.data() will be undefined in this case\r\n          console.log(\"No such document!\");\r\n        }\r\n      })\r\n      .catch(function (error: firestore.FirestoreError) {\r\n        console.error(\"Error getting document:\", error);\r\n      });\r\n\r\n    db.collection(\"users\")\r\n      .get()\r\n      .then((querySnapshot: firestore.QuerySnapshot) => {\r\n        querySnapshot.forEach((doc) => {\r\n          setUsersList((prevState) => [\r\n            ...prevState,\r\n            {\r\n              id: doc.id,\r\n              displayName: doc.data().displayName,\r\n              email: doc.data().email,\r\n            },\r\n          ]);\r\n        });\r\n      })\r\n      .catch((error: firestore.FirestoreError) => {\r\n        console.error(\"couldn't fetch the users list: \", error);\r\n      });\r\n  }, [ticketId]);\r\n\r\n  const handleChangeAssignee = (\r\n    event: React.ChangeEvent<HTMLSelectElement>\r\n  ) => {\r\n    usersList.forEach((user) => {\r\n      if (user.displayName === event.target.value) {\r\n        setAssignee(user);\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleSubmitAssignee = (event: React.FormEvent) => {\r\n    event.preventDefault();\r\n    const status = assignee ? \"assigned\" : \"unassigned\";\r\n\r\n    // Add a new document in collection \"cities\"\r\n    db.collection(\"tickets\")\r\n      .doc(ticketId)\r\n      .set(\r\n        {\r\n          assignee,\r\n          status,\r\n        },\r\n        { merge: true }\r\n      )\r\n      .then(() => {\r\n        console.log(\"Document successfully written!\");\r\n      })\r\n      .then(() => {\r\n        refreshComponent();\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error writing document: \", error);\r\n      });\r\n  };\r\n\r\n  const refreshComponent = () => {\r\n    window.location.reload();\r\n  };\r\n\r\n  const handleChangeStatus = (event: React.ChangeEvent<HTMLSelectElement>) => {\r\n    setStatus(event.target.value);\r\n  };\r\n\r\n  const handleSubmitStatus = (event: React.FormEvent) => {\r\n    event.preventDefault();\r\n\r\n    db.collection(\"tickets\")\r\n      .doc(ticketId)\r\n      .set(\r\n        {\r\n          status,\r\n        },\r\n        { merge: true }\r\n      )\r\n      .then(() => {\r\n        console.log(\"Status changed successfully!\");\r\n      })\r\n      .then(() => {\r\n        refreshComponent();\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error changing status: \", error);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className={\"p-5\"}>\r\n      <h2 className={\"text-center\"}>Ticket Details Page</h2>\r\n      <div className=\"card border-dark mb-5\">\r\n        <ul className=\"list-group\">\r\n          <li className=\"list-group-item\">\r\n            <span className={\"badge badge-dark\"}>ID</span> {ticketId}\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <span className={\"badge badge-dark\"}>Title</span> {ticket.title}\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <span className={\"badge badge-dark\"}>Description</span>{\" \"}\r\n            {ticket.description}\r\n          </li>\r\n          <li className={\"list-group-item\"}>\r\n            <img\r\n              src={ticket.imageUrl}\r\n              alt=\"defect screenshot\"\r\n              className={\"img-fluid\"}\r\n            />\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <span className={\"badge badge-dark\"}>Created At</span>{\" \"}\r\n            {ticket.createdAt}\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <span className={\"badge badge-dark\"}>Owner</span>{\" \"}\r\n            {ticket.owner.displayName}\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <span className={\"badge badge-dark\"}>Asignee</span>{\" \"}\r\n            {ticket.assignee.displayName}\r\n            {currentUser.role === \"triage\" ? (\r\n              <div className={\"mt-3\"}>\r\n                <select\r\n                  className=\"text-center\"\r\n                  name={\"assignee\"}\r\n                  id=\"assignee\"\r\n                  value={assignee.displayName}\r\n                  onChange={handleChangeAssignee}\r\n                >\r\n                  <option className={\"\"}>--Select--</option>\r\n                  {usersList.map((user, index) => (\r\n                    <option key={index}>{user.displayName}</option>\r\n                  ))}\r\n                </select>{\" \"}\r\n                <button\r\n                  className=\"btn btn-sm btn-dark\"\r\n                  onClick={handleSubmitAssignee}\r\n                >\r\n                  Change Assignee\r\n                </button>\r\n              </div>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <span className={\"badge badge-dark\"}>Status</span> {ticket.status}\r\n            {(function () {\r\n              switch (currentUser.role) {\r\n                case \"tester\":\r\n                  return ticket.assignee.displayName ===\r\n                    currentUser.displayName ? (\r\n                    <div className={\"mt-3\"}>\r\n                      <select\r\n                        className=\"text-center\"\r\n                        name={\"status\"}\r\n                        id=\"status\"\r\n                        value={status}\r\n                        onChange={handleChangeStatus}\r\n                      >\r\n                        <option className={\"\"}>--Select--</option>\r\n                        <option>passed</option>\r\n                        <option>failed</option>\r\n                      </select>{\" \"}\r\n                      <button\r\n                        className=\"btn btn-sm btn-dark\"\r\n                        onClick={handleSubmitStatus}\r\n                      >\r\n                        Change Status\r\n                      </button>\r\n                    </div>\r\n                  ) : (\r\n                    \"\"\r\n                  );\r\n\r\n                case \"triage\":\r\n                  return (\r\n                    <div className={\"mt-3\"}>\r\n                      <select\r\n                        className=\"text-center\"\r\n                        name={\"status\"}\r\n                        id=\"status\"\r\n                        value={status}\r\n                        onChange={handleChangeStatus}\r\n                      >\r\n                        <option className={\"\"}>--Select--</option>\r\n                        <option>assigned</option>\r\n                        <option>duplicate</option>\r\n                        <option>rejected</option>\r\n                        <option>closed</option>\r\n                        <option>in-testing</option>\r\n                        <option>tested</option>\r\n                      </select>{\" \"}\r\n                      <button\r\n                        className=\"btn btn-sm btn-dark\"\r\n                        onClick={handleSubmitStatus}\r\n                      >\r\n                        Change Status\r\n                      </button>\r\n                    </div>\r\n                  );\r\n\r\n                case \"developer\":\r\n                  return ticket.assignee.displayName ===\r\n                    currentUser.displayName ? (\r\n                    <div className={\"mt-3\"}>\r\n                      <select\r\n                        className=\"text-center\"\r\n                        name={\"assignee\"}\r\n                        id=\"exampleFormControlSelect1\"\r\n                        value={status}\r\n                        onChange={handleChangeStatus}\r\n                      >\r\n                        <option className={\"\"}>--Select--</option>\r\n                        <option>in-progress</option>\r\n                        <option>on-hold</option>\r\n                        <option>fixed</option>\r\n                      </select>{\" \"}\r\n                      <button\r\n                        className=\"btn btn-sm btn-dark\"\r\n                        onClick={handleSubmitStatus}\r\n                      >\r\n                        Change Status\r\n                      </button>\r\n                    </div>\r\n                  ) : (\r\n                    \"\"\r\n                  );\r\n\r\n                default:\r\n                  break;\r\n              }\r\n            })()}\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TicketDetailsPage;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\r\nimport DefectForm from \"./components/defect-form/defect-form.component\";\r\nimport Footer from \"./components/footer/footer.component\";\r\nimport Navbar from \"./components/navbar/navbar.component\";\r\nimport ViewTickets from \"./components/view-tickets/view-tickets.component\";\r\nimport { auth, createUserProfileDocument } from \"./firebase/firebase.utils\";\r\nimport Homepage from \"./pages/homepage/homepage.component\";\r\nimport RegisterAndLogin from \"./pages/register-and-login/register-and-login.component\";\r\nimport TicketDetailsPage from \"./pages/ticket-details/ticket-details.component\";\r\nimport CurrentUserContext from \"./providers/current-user/current-user.provider\";\r\nimport { CurrentUser } from \"./typescript-interfaces/current-user.interface\";\r\n\r\nconst Routes = () => {\r\n  const [currentUser, setCurrentUser] = useState<CurrentUser>({\r\n    id: \"\",\r\n    email: \"\",\r\n    displayName: \"\",\r\n    role: \"\",\r\n    myTickets: [],\r\n  });\r\n\r\n  useEffect(() => {\r\n    const unsubscribeFromAuth = auth.onAuthStateChanged(async (userAuth) => {\r\n      if (userAuth) {\r\n        const userRef = await createUserProfileDocument(userAuth, undefined);\r\n\r\n        userRef?.onSnapshot((snapShot) => {\r\n          setCurrentUser({\r\n            id: snapShot.id,\r\n            email: snapShot.data()?.email,\r\n            displayName: snapShot.data()?.displayName,\r\n            role: snapShot.data()?.role,\r\n            myTickets: snapShot.data()?.myTickets,\r\n          });\r\n        });\r\n      }\r\n    });\r\n    return () => {\r\n      unsubscribeFromAuth();\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <CurrentUserContext.Provider value={currentUser}>\r\n        <BrowserRouter>\r\n          <Navbar />\r\n          <Switch>\r\n            <Route exact path={\"/bugtrail-v3\"} component={Homepage} />\r\n            <Route\r\n              exact\r\n              path={\"/bugtrail-v3/register-and-login\"}\r\n              component={RegisterAndLogin}\r\n            />\r\n            <Route\r\n              exact\r\n              path={\"/bugtrail-v3/new-defect\"}\r\n              component={DefectForm}\r\n            />\r\n            <Route path={\"/bugtrail-v3/view-tickets\"} component={ViewTickets} />\r\n            <Route\r\n              exact\r\n              path={\"/bugtrail-v3/ticket-details/:ticketId\"}\r\n              component={TicketDetailsPage}\r\n            />\r\n          </Switch>\r\n        </BrowserRouter>\r\n      </CurrentUserContext.Provider>\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Routes;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.scss\";\nimport Routes from \"./routes\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"bootstrap/dist/js/bootstrap.min.js\";\nimport \"jquery\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Routes />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}