(this["webpackJsonpbugtrail-v3"]=this["webpackJsonpbugtrail-v3"]||[]).push([[0],{32:function(e,t,a){e.exports=a(57)},37:function(e,t,a){},45:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(30),c=a.n(l),s=(a(37),a(7)),i=a.n(s),o=a(12),m=a(4),u=a(2),d=a(1),p=a(10),g=Object(n.createContext)({id:"",email:"",displayName:"",role:"",myTickets:[]}),b=a(60),f=a(15),E=a(11),N=a.n(E);a(39),a(43),a(58);N.a.initializeApp({apiKey:"AIzaSyBcSu1C4Qdud_a52NOWikVSOj0njkwODpc",authDomain:"bugtrail-v2.firebaseapp.com",databaseURL:"https://bugtrail-v2.firebaseio.com",projectId:"bugtrail-v2",storageBucket:"bugtrail-v2.appspot.com",messagingSenderId:"723885045033",appId:"1:723885045033:web:4eeef384d51bf7c025b338",measurementId:"G-VH49TBGZ9N"});var v=function(){var e=Object(o.a)(i.a.mark((function e(t,a){var n,r,l,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return n=k.doc("users/".concat(t.uid)),e.next=5,n.get();case 5:if(e.sent.exists){e.next=17;break}return r=t.displayName,l=t.email,c=new Date,e.prev=9,e.next=12,n.set(Object(f.a)({displayName:r,email:l,createdAt:c,myTickets:[""]},a));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),console.log("error creating user",e.t0.message);case 17:return e.abrupt("return",n);case 18:case"end":return e.stop()}}),e,null,[[9,14]])})));return function(t,a){return e.apply(this,arguments)}}(),h=N.a.auth(),k=N.a.firestore(),y=N.a.storage(),w=new N.a.auth.GoogleAuthProvider;w.setCustomParameters({prompt:"select_account"});N.a;var x=function(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),s=Object(m.a)(c,2),i=s[0],o=s[1],u=Object(n.useState)(),d=Object(m.a)(u,2),f=d[0],E=d[1],v=Object(n.useState)(""),h=Object(m.a)(v,2),w=h[0],x=h[1],j=Object(n.useContext)(g),O=function(e){var t=e.target,a=t.name,n=t.value;switch(a){case"title":l(n);break;case"description":o(n);break;case"priority":x(n)}};return r.a.createElement("div",{className:"pt-3 pl-2 pr-2 mt-5 mr-3 ml-3"},r.a.createElement("h1",{className:"text-center"},"Raising a new defect"),r.a.createElement("form",{className:"mb-5",onSubmit:function(e){e.preventDefault();var t=Object(b.a)(),n=new Date,r="";if(f){var c=y.ref().child("images/"+f.name).put(f,{contentType:"image/jpeg"});c.on(N.a.storage.TaskEvent.STATE_CHANGED,(function(e){var t=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is "+t+"% done"),e.state){case N.a.storage.TaskState.PAUSED:console.log("Upload is paused");break;case N.a.storage.TaskState.RUNNING:console.log("Upload is running")}}),(function(e){console.error("Couldn't upload image: ",e)}),(function(){c.snapshot.ref.getDownloadURL().then((function(e){console.log("File available at",e),r=e})).then((function(){k.collection("tickets").doc(t).set({owner:{id:j.id,displayName:j.displayName,email:j.email},title:a,description:i,imageUrl:r,priority:w,createdAt:n,status:"unassigned",assignee:{id:"",displayName:"",email:""}}).then((function(){console.log("Ticket submitted successfully!")})).then((function(){l(""),o(""),x("")})).catch((function(e){console.error("Error creating ticket: ",e)}))}))}))}k.collection("users").doc(j.id).set({myTickets:[].concat(Object(p.a)(j.myTickets),[t])},{merge:!0})}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"defectTitle"},"Title"),r.a.createElement("input",{type:"text",name:"title",className:"form-control",id:"defectTitle",placeholder:"Issue title here...",value:a,onChange:O})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"defectDescription"},"Description"),r.a.createElement("textarea",{className:"form-control",name:"description",id:"defectDescription",placeholder:"Write a detailed description of the issue here...",rows:3,value:i,onChange:O})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"defectImage"},"Defect Image"),r.a.createElement("input",{type:"file",name:"defectImage",className:"form-control-file",onChange:function(e){e.target.files&&e.target.files[0].size<=3145728?(E(e.target.files?e.target.files[0]:void 0),console.log(f)):(alert("The maximum image size allowed is 3MB"),E(void 0))},id:"defectImage"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"defectPriority"},"Priority Level"),r.a.createElement("select",{className:"form-control",name:"priority",id:"defectPriority",value:w,onChange:O},r.a.createElement("option",null,"--Select--"),r.a.createElement("option",null,"Severe"),r.a.createElement("option",null,"High"),r.a.createElement("option",null,"Medium"),r.a.createElement("option",null,"Low"),r.a.createElement("option",null,"Feature request"))),r.a.createElement("button",{type:"submit",className:"btn btn-dark"},"Submit Defect")))},j=function(){return r.a.createElement("div",{className:"card-footer text-white mt-auto fixed-bottom text-center bg-dark"},r.a.createElement("h6",null,"Created by Nikhil Choudhary"),r.a.createElement("p",null,"\xa9 Copyright 2020"))},O=(a(45),Object(d.i)((function(){var e=Object(d.f)(),t=Object(n.useContext)(g);return r.a.createElement("div",{className:"bootstrap-navbar"},r.a.createElement("nav",{className:"navbar fixed-top navbar-expand-lg navbar-dark bg-dark"},r.a.createElement(u.b,{to:"/bugtrail-v3",className:"navbar-brand"},"BUGTRAIL"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item ".concat("/bugtrail-v3"===e.location.pathname?"active":"")},r.a.createElement(u.b,{to:"/bugtrail-v3",className:"nav-link"},"Home ",r.a.createElement("span",{className:"sr-only"},"(current)"))),r.a.createElement("li",{className:"nav-item ".concat("/bugtrail-v3/register-and-login"===e.location.pathname?"active":"")},!t.email&&r.a.createElement(u.b,{to:"/bugtrail-v3/register-and-login",className:"nav-link"},"Login and Register")),r.a.createElement("li",null,t.email&&r.a.createElement("div",{className:"nav-link",style:{cursor:"pointer"},onClick:function(){h.signOut(),e.push("/bugtrail-v3"),window.location.reload()}},"Logout"))),r.a.createElement("span",{className:"navbar-text ml-auto"},t.email?"Hi, ".concat(t.displayName):""))))}))),C=function(){var e=new URLSearchParams(Object(d.g)().search).get("type"),t=Object(n.useState)([]),a=Object(m.a)(t,2),l=a[0],c=a[1],s=Object(n.useContext)(g);return Object(n.useEffect)((function(){switch(c([]),e){case"all":k.collection("tickets").orderBy("createdAt","desc").get().then((function(e){e.forEach((function(e){var t=e.data(),a=t.title,n=t.description,r=t.imageUrl,l=t.priority,s=t.status,i=t.owner,o=t.assignee,m=t.createdAt,u={id:e.id,title:a,description:n,imageUrl:r,priority:l,status:s,owner:i,assignee:o,createdAt:m};c((function(e){return[].concat(Object(p.a)(e),[u])}))}))})).catch((function(e){console.error("Error getting document:",e)}));break;case"my":k.collection("tickets").orderBy("createdAt","desc").get().then((function(e){e.forEach((function(e){if(e.data().owner.id===s.id){var t=e.data(),a=t.title,n=t.description,r=t.imageUrl,l=t.priority,i=t.status,o=t.owner,m=t.assignee,u=t.createdAt,d={id:e.id,title:a,description:n,imageUrl:r,priority:l,status:i,owner:o,assignee:m,createdAt:u};c((function(e){return[].concat(Object(p.a)(e),[d])}))}}))})).catch((function(e){console.error("Error getting document:",e)}));break;case"assigned-to-me":k.collection("tickets").orderBy("createdAt","desc").get().then((function(e){e.forEach((function(e){if("fixed"!==e.data().status&&e.data().assignee.id===s.id){var t=e.data(),a=t.title,n=t.description,r=t.imageUrl,l=t.priority,i=t.status,o=t.owner,m=t.assignee,u=t.createdAt,d={id:e.id,title:a,description:n,imageUrl:r,priority:l,status:i,owner:o,assignee:m,createdAt:u};c((function(e){return[].concat(Object(p.a)(e),[d])}))}}))})).catch((function(e){console.error("Error getting document:",e)}));break;case"unassigned":k.collection("tickets").orderBy("createdAt","desc").get().then((function(e){e.forEach((function(e){if("unassigned"===e.data().status){var t=e.data(),a=t.title,n=t.description,r=t.imageUrl,l=t.priority,s=t.status,i=t.owner,o=t.assignee,m=t.createdAt,u={id:e.id,title:a,description:n,imageUrl:r,priority:l,status:s,owner:i,assignee:o,createdAt:m};c((function(e){return[].concat(Object(p.a)(e),[u])}))}}))})).catch((function(e){console.error("Error getting document:",e)}));break;case"fixed":k.collection("tickets").orderBy("createdAt","desc").get().then((function(e){e.forEach((function(e){if("fixed"===e.data().status){var t=e.data(),a=t.title,n=t.description,r=t.imageUrl,l=t.priority,s=t.status,i=t.owner,o=t.assignee,m=t.createdAt,u={id:e.id,title:a,description:n,imageUrl:r,priority:l,status:s,owner:i,assignee:o,createdAt:m};c((function(e){return[].concat(Object(p.a)(e),[u])}))}}))})).catch((function(e){console.error("Error getting document:",e)}));break;case"failed":k.collection("tickets").orderBy("createdAt","desc").get().then((function(e){e.forEach((function(e){if("failed"===e.data().status){var t=e.data(),a=t.title,n=t.description,r=t.imageUrl,l=t.priority,s=t.status,i=t.owner,o=t.assignee,m=t.createdAt,u={id:e.id,title:a,description:n,imageUrl:r,priority:l,status:s,owner:i,assignee:o,createdAt:m};c((function(e){return[].concat(Object(p.a)(e),[u])}))}}))})).catch((function(e){console.error("Error getting document:",e)}))}}),[e,s]),r.a.createElement("div",{className:"pt-3 pb-3 pl-2 pr-2 mt-5 mr-3 ml-3"},r.a.createElement("h2",{className:"text-center"},"View Tickets Here"),l.length>0?r.a.createElement("table",{className:"table table-bordered table-striped table-dark mb-5"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"S.No."),r.a.createElement("th",{scope:"col"},"Issue Title"),r.a.createElement("th",{scope:"col"},"Status"))),r.a.createElement("tbody",null,l.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("th",{scope:"row"},t+1),r.a.createElement("td",null,r.a.createElement(u.b,{className:"text-white",to:"/bugtrail-v3/ticket-details/".concat(e.id)},e.title)),r.a.createElement("td",null,e.status))})))):r.a.createElement("h3",{className:"text-center pt-5"},"No tickets found"))},S=(a(50),function(){var e=Object(n.useContext)(g);return Object(n.useEffect)((function(){console.log("Current User Context: ",e)}),[e]),r.a.createElement("div",{className:"pt-3 pb-3 mt-5"},e.email?r.a.createElement("div",{className:"card border-dark m-5"},r.a.createElement("h5",{className:"card-header text-white bg-dark"},"User Dashboard"),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-3 mb-5"},r.a.createElement("div",{className:"card border-dark"},r.a.createElement("ul",{className:"list-group list-group-flush"},r.a.createElement("li",{className:"list-group-item"},r.a.createElement(u.b,{className:"link-font",to:"/bugtrail-v3/new-defect"},"Raise A New Defect")),r.a.createElement("li",{className:"list-group-item"},r.a.createElement(u.b,{className:"link-font",to:"/bugtrail-v3/view-tickets?type=my"},"My Tickets")),r.a.createElement("li",{className:"list-group-item"},r.a.createElement(u.b,{className:"link-font",to:"/bugtrail-v3/view-tickets?type=all"},"All Tickets")),r.a.createElement("li",{className:"list-group-item"},r.a.createElement(u.b,{className:"link-font",to:"/bugtrail-v3/view-tickets?type=assigned-to-me"},"Tickets Assigned To Me")),"triage"===e.role?r.a.createElement("li",{className:"list-group-item"},r.a.createElement(u.b,{className:"link-font",to:"/bugtrail-v3/view-tickets?type=unassigned"},"Unassigned Tickets")):null,"triage"===e.role?r.a.createElement("li",{className:"list-group-item"},r.a.createElement(u.b,{className:"link-font",to:"/bugtrail-v3/view-tickets?type=fixed"},"Fixed Tickets")):null,"triage"===e.role?r.a.createElement("li",{className:"list-group-item"},r.a.createElement(u.b,{className:"link-font",to:"/bugtrail-v3/view-tickets?type=failed"},"Failed Tickets")):null))),r.a.createElement("div",{className:"col-md-9 mb-5"},r.a.createElement("div",{className:"card border-dark"},r.a.createElement("h5",{className:"card-header text-white bg-dark"},e.displayName),r.a.createElement("ul",{className:"list-group list-group-flush"},r.a.createElement("li",{className:"list-group-item"},r.a.createElement("span",{className:"badge badge-dark badge-pill"},"User ID")," ",e.id),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("span",{className:"badge badge-dark badge-pill"},"Name")," ",e.displayName),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("span",{className:"badge badge-dark badge-pill"},"Email")," ",e.email),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("span",{className:"badge badge-dark badge-pill"},"Role Assigned")," ","Tester"))))))):r.a.createElement("h2",{className:"text-center"},"Welcome to Bugtrail. A bug tracking software. Please register or login to continue."))}),A=(a(51),a(16)),T=(a(52),function(){var e=Object(d.f)(),t=Object(n.useState)({email:"developer@nikhil.com",password:"12345678"}),a=Object(m.a)(t,2),l=a[0],c=a[1],s=l.email,u=l.password,p=function(e){var t=e.target,a=t.name,n=t.value;c((function(e){return Object(f.a)({},e,Object(A.a)({},a,n))}))},g=function(){var t=Object(o.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,h.signInWithEmailAndPassword(s,u);case 4:c({email:"",password:""}),e.push("/bugtrail-v3"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.error("Couldn't login user: ",t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"text-center mb-5 mt-5"},r.a.createElement("form",{className:"form-signin",onSubmit:g},r.a.createElement("img",{className:"mb-4",src:"https://banner2.cleanpng.com/20180526/ux/kisspng-software-bug-undocumented-feature-computer-softwar-5b093b61afe799.6982676615273316817205.jpg",alt:"bugtrail",width:"72",height:"72"}),r.a.createElement("h1",{className:"h3 mb-3 font-weight-normal"},"Please Login"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"loginEmail",className:"sr-only"},"Email address"),r.a.createElement("input",{type:"email",name:"email",id:"loginEmail",className:"form-control",placeholder:"Email address",value:s,onChange:p,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"loginPassword",className:"sr-only"},"Password"),r.a.createElement("input",{type:"password",name:"password",id:"loginPassword",className:"form-control",placeholder:"Password",value:u,onChange:p,required:!0})),r.a.createElement("div",{className:"checkbox mb-3"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",value:"remember-me"})," Remember me")),r.a.createElement("button",{className:"btn btn-lg btn-dark btn-block",type:"submit"},"Login")))}),P=(a(53),function(){var e=Object(d.f)(),t=Object(n.useState)({fName:"Developer",lName:"Schwarz",role:"developer",email:"developer@nikhil.com",password:"12345678",confirmPassword:"12345678"}),a=Object(m.a)(t,2),l=a[0],c=a[1],s=l.fName,u=l.lName,p=l.role,g=l.email,b=l.password,E=l.confirmPassword,N=function(e){var t=e.target,a=t.name,n=t.value;c((function(e){return Object(f.a)({},e,Object(A.a)({},a,n))}))},k=function(){var t=Object(o.a)(i.a.mark((function t(a){var n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("Entered handleSubmit"),a.preventDefault(),b===E){t.next=5;break}return alert("Passwords don't match!"),t.abrupt("return");case 5:return t.prev=5,t.next=8,h.createUserWithEmailAndPassword(g,b);case 8:return n=t.sent,r=n.user,t.next=12,v(r,{displayName:"".concat(s," ").concat(u),role:p});case 12:c({fName:"",lName:"",email:"",password:"",confirmPassword:""}),e.push("/bugtrail-v3"),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(5),console.error("Error creating user: ",t.t0);case 19:case"end":return t.stop()}}),t,null,[[5,16]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"text-center mb-5 mt-5"},r.a.createElement("form",{className:"form-signin",onSubmit:k},r.a.createElement("img",{className:"mb-4",src:"https://banner2.cleanpng.com/20180526/ux/kisspng-software-bug-undocumented-feature-computer-softwar-5b093b61afe799.6982676615273316817205.jpg",alt:"bugtrail",width:"72",height:"72"}),r.a.createElement("h1",{className:"h3 mb-3 font-weight-normal"},"Please Register"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"firstName",className:"sr-only"},"First Name"),r.a.createElement("input",{type:"text",name:"fName",id:"firstName",className:"form-control",placeholder:"First Name",value:s,onChange:N,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"lastName",className:"sr-only"},"Last Name"),r.a.createElement("input",{type:"text",name:"lName",id:"lastName",className:"form-control",placeholder:"Last Name",value:u,onChange:N,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"organizationRole",className:"sr-only"},"Organization Role"),r.a.createElement("input",{type:"text",name:"role",id:"organizationRole",className:"form-control",placeholder:"Organization Role",value:p,onChange:N,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"registerEmail",className:"sr-only"},"Email address"),r.a.createElement("input",{type:"email",name:"email",id:"registerEmail",className:"form-control",placeholder:"Email address",onChange:N,value:g,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"registerPassword",className:"sr-only"},"Password"),r.a.createElement("input",{type:"password",name:"password",id:"registerPassword",className:"form-control",placeholder:"Password",value:b,onChange:N,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"inputConfirmPassword",className:"sr-only"},"Confirm Password"),r.a.createElement("input",{type:"password",name:"confirmPassword",id:"inputConfirmPassword",className:"form-control",placeholder:"Confirm Password",value:E,onChange:N,required:!0})),r.a.createElement("div",{className:"checkbox mb-3"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",value:"remember-me"})," Remember me")),r.a.createElement("button",{className:"btn btn-lg btn-dark btn-block",type:"submit"},"Register")))}),U=function(){return r.a.createElement("div",{className:"pt-5 pl-3 pr-3 pb-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 col-sm-12"},r.a.createElement(T,null)),r.a.createElement("div",{className:"col-md-6 col-sm-12"},r.a.createElement(P,null))))},D=function(){var e=Object(d.h)().ticketId,t=Object(n.useContext)(g),a=Object(n.useState)([]),l=Object(m.a)(a,2),c=l[0],s=l[1],i=Object(n.useState)({id:"",displayName:"",email:""}),o=Object(m.a)(i,2),u=o[0],b=o[1],f=Object(n.useState)(""),E=Object(m.a)(f,2),N=E[0],v=E[1],h=Object(n.useState)({id:"",title:"",description:"",imageUrl:"",priority:"",status:"",owner:{displayName:"",email:"",id:""},assignee:{displayName:"",email:"",id:""},createdAt:""}),y=Object(m.a)(h,2),w=y[0],x=y[1];Object(n.useEffect)((function(){k.collection("tickets").doc(e).get().then((function(e){if(e.exists){var t=e.data(),a=t.title,n=t.description,r=t.imageUrl,l=t.priority,c=t.status,s=t.owner,i=t.assignee,o=t.createdAt;x({id:e.id,title:a,description:n,imageUrl:r,priority:l,status:c,owner:s,assignee:i,createdAt:o.toDate().toString()}),b(i),v(c)}else console.log("No such document!")})).catch((function(e){console.error("Error getting document:",e)})),k.collection("users").get().then((function(e){e.forEach((function(e){s((function(t){return[].concat(Object(p.a)(t),[{id:e.id,displayName:e.data().displayName,email:e.data().email}])}))}))})).catch((function(e){console.error("couldn't fetch the users list: ",e)}))}),[e]);var j=function(){window.location.reload()},O=function(e){v(e.target.value)},C=function(t){t.preventDefault(),k.collection("tickets").doc(e).set({status:N},{merge:!0}).then((function(){console.log("Status changed successfully!")})).then((function(){j()})).catch((function(e){console.error("Error changing status: ",e)}))};return r.a.createElement("div",{className:"pt-3 pb-3 pl-2 pr-2 mt-5 mr-3 ml-3 mb-5"},r.a.createElement("h2",{className:"text-center"},"Ticket Details Page"),r.a.createElement("div",{className:"card border-dark mb-5"},r.a.createElement("ul",{className:"list-group"},r.a.createElement("li",{className:"list-group-item"},r.a.createElement("span",{className:"badge badge-dark"},"ID")," ",e),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("span",{className:"badge badge-dark"},"Title")," ",w.title),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("span",{className:"badge badge-dark"},"Description")," ",w.description),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("img",{src:w.imageUrl,alt:"defect screenshot",className:"img-fluid"})),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("span",{className:"badge badge-dark"},"Created At")," ",w.createdAt),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("span",{className:"badge badge-dark"},"Owner")," ",w.owner.displayName),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("span",{className:"badge badge-dark"},"Asignee")," ",w.assignee.displayName,"triage"===t.role?r.a.createElement("div",{className:"mt-3"},r.a.createElement("select",{className:"text-center",name:"assignee",id:"assignee",value:u.displayName,onChange:function(e){c.forEach((function(t){t.displayName===e.target.value&&b(t)}))}},r.a.createElement("option",{className:""},"--Select--"),c.map((function(e,t){return r.a.createElement("option",{key:t},e.displayName)})))," ",r.a.createElement("button",{className:"btn btn-sm btn-dark",onClick:function(t){t.preventDefault();var a=u?"assigned":"unassigned";k.collection("tickets").doc(e).set({assignee:u,status:a},{merge:!0}).then((function(){console.log("Document successfully written!")})).then((function(){j()})).catch((function(e){console.error("Error writing document: ",e)}))}},"Change Assignee")):""),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("span",{className:"badge badge-dark"},"Status")," ",w.status,function(){switch(t.role){case"tester":return w.assignee.displayName===t.displayName?r.a.createElement("div",{className:"mt-3"},r.a.createElement("select",{className:"text-center",name:"status",id:"status",value:N,onChange:O},r.a.createElement("option",{className:""},"--Select--"),r.a.createElement("option",null,"passed"),r.a.createElement("option",null,"failed"))," ",r.a.createElement("button",{className:"btn btn-sm btn-dark",onClick:C},"Change Status")):"";case"triage":return r.a.createElement("div",{className:"mt-3"},r.a.createElement("select",{className:"text-center",name:"status",id:"status",value:N,onChange:O},r.a.createElement("option",{className:""},"--Select--"),r.a.createElement("option",null,"assigned"),r.a.createElement("option",null,"duplicate"),r.a.createElement("option",null,"rejected"),r.a.createElement("option",null,"closed"),r.a.createElement("option",null,"in-testing"),r.a.createElement("option",null,"tested"))," ",r.a.createElement("button",{className:"btn btn-sm btn-dark",onClick:C},"Change Status"));case"developer":return w.assignee.displayName===t.displayName?r.a.createElement("div",{className:"mt-3"},r.a.createElement("select",{className:"text-center",name:"assignee",id:"exampleFormControlSelect1",value:N,onChange:O},r.a.createElement("option",{className:""},"--Select--"),r.a.createElement("option",null,"in-progress"),r.a.createElement("option",null,"on-hold"),r.a.createElement("option",null,"fixed"))," ",r.a.createElement("button",{className:"btn btn-sm btn-dark",onClick:C},"Change Status")):""}}()))))},F=function(){var e=Object(n.useState)({id:"",email:"",displayName:"",role:"",myTickets:[]}),t=Object(m.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){var e=h.onAuthStateChanged(function(){var e=Object(o.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,v(t,void 0);case 3:null===(a=e.sent)||void 0===a||a.onSnapshot((function(e){var t,a,n,r;l({id:e.id,email:null===(t=e.data())||void 0===t?void 0:t.email,displayName:null===(a=e.data())||void 0===a?void 0:a.displayName,role:null===(n=e.data())||void 0===n?void 0:n.role,myTickets:null===(r=e.data())||void 0===r?void 0:r.myTickets})}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return function(){e()}}),[]),r.a.createElement("div",null,r.a.createElement(g.Provider,{value:a},r.a.createElement(u.a,null,r.a.createElement(O,null),r.a.createElement(d.c,null,r.a.createElement(d.a,{exact:!0,path:"/bugtrail-v3",component:S}),r.a.createElement(d.a,{exact:!0,path:"/bugtrail-v3/register-and-login",component:U}),r.a.createElement(d.a,{exact:!0,path:"/bugtrail-v3/new-defect",component:x}),r.a.createElement(d.a,{path:"/bugtrail-v3/view-tickets",component:C}),r.a.createElement(d.a,{exact:!0,path:"/bugtrail-v3/ticket-details/:ticketId",component:D})))),r.a.createElement(j,null))};a(54),a(55),a(29);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(F,null)),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.08add817.chunk.js.map