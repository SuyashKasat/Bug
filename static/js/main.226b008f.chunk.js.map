{"version":3,"sources":["providers/current-user/current-user.provider.tsx","firebase/firebase.utils.ts","components/defect-form/defect-form.component.tsx","components/footer/footer.component.tsx","components/navbar/navbar.component.tsx","components/view-tickets/view-tickets.component.tsx","pages/homepage/homepage.component.tsx","pages/project-form/project-form.component.tsx","pages/projects-details/projects-details.component.tsx","pages/projects/projects.component.tsx","components/login/login.component.tsx","components/register/register.component.tsx","pages/register-and-login/register-and-login.component.tsx","pages/ticket-details/ticket-details.component.tsx","routes.tsx","index.tsx"],"names":["CurrentUserContext","createContext","id","email","displayName","role","myTickets","projects","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","createUserProfileDocument","userAuth","additionalData","a","userRef","firestore","doc","uid","get","exists","createdAt","Date","set","console","log","message","auth","storage","googleProvider","GoogleAuthProvider","setCustomParameters","prompt","DefectForm","useState","title","setTitle","description","setDescription","defectImage","setDefectImage","priority","setPriority","projectName","setProjectName","useParams","currentUser","useContext","useEffect","db","collection","then","data","name","catch","error","handleChange","event","target","value","className","style","minHeight","onSubmit","preventDefault","v4","imageUrl","uploadTask","ref","child","put","contentType","on","TaskEvent","STATE_CHANGED","snapshot","progress","bytesTransferred","totalBytes","state","TaskState","PAUSED","RUNNING","getDownloadURL","downloadURL","owner","project","status","assignee","logs","personName","personRole","timestamp","statusChangedTo","comments","merge","htmlFor","type","placeholder","onChange","rows","files","size","undefined","alert","Footer","withRouter","history","useHistory","to","data-toggle","data-target","aria-controls","aria-expanded","aria-label","location","pathname","cursor","onClick","signOut","push","window","reload","ViewTickets","query","URLSearchParams","useLocation","search","ticketsList","setTicketsList","ticketsArray","orderBy","querySnapshot","forEach","filter","ticket","length","scope","map","index","key","Homepage","ProjectForm","projName","setProjName","projDescription","setProjDescription","projStatus","setProjStatus","projId","projectArray","ProjectDetails","refresh","setRefresh","setProject","projectMembers","setProjectMembers","nonMembers","setNonMembers","personToAdd","setPersonToAdd","priorityLow","setPriorityLow","priorityMedium","setPriorityMedium","priorityHigh","setPriorityHigh","prioritySevere","setPrioritySevere","priorityFeatureRequest","setPriorityFeatureRequest","includes","prevState","refreshComponent","textTransform","fontWeight","projectsArray","person","memberId","splice","indexOf","Projects","projectsList","setProjectsList","Login","password","userCredentials","setUserCredentials","prevUserCredentials","handleSubmit","signInWithEmailAndPassword","src","alt","width","height","required","Register","fName","lName","confirmPassword","createUserWithEmailAndPassword","user","createdProjects","RegisterAndLogin","TicketDetailsPage","ticketId","setProjectId","usersList","setUsersList","setAssignee","setStatus","comment","setcomment","setTicket","toDate","toString","handleChangeStatus","handleSubmitStatus","logsArray","commentsArray","Routes","setCurrentUser","unsubscribeFromAuth","onAuthStateChanged","onSnapshot","snapShot","Provider","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.226b008f.chunk.js","sourcesContent":["import { createContext } from \"react\";\r\nimport { CurrentUser } from \"../../typescript-interfaces/current-user.interface\";\r\n\r\nconst CurrentUserContext = createContext<CurrentUser>({\r\n  id: \"\",\r\n  email: \"\",\r\n  displayName: \"\",\r\n  role: \"\",\r\n  myTickets: [],\r\n  projects: [],\r\n});\r\n\r\nexport default CurrentUserContext;\r\n","import firebase from \"firebase/app\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/storage\";\r\n\r\nconst config = {\r\n  apiKey: \"AIzaSyBcSu1C4Qdud_a52NOWikVSOj0njkwODpc\",\r\n  authDomain: \"bugtrail-v2.firebaseapp.com\",\r\n  databaseURL: \"https://bugtrail-v2.firebaseio.com\",\r\n  projectId: \"bugtrail-v2\",\r\n  storageBucket: \"bugtrail-v2.appspot.com\",\r\n  messagingSenderId: \"723885045033\",\r\n  appId: \"1:723885045033:web:4eeef384d51bf7c025b338\",\r\n  measurementId: \"G-VH49TBGZ9N\",\r\n};\r\n\r\nfirebase.initializeApp(config);\r\n\r\nexport const createUserProfileDocument = async (\r\n  userAuth: firebase.User | null,\r\n  additionalData: any\r\n) => {\r\n  if (!userAuth) return;\r\n\r\n  const userRef = firestore.doc(`users/${userAuth.uid}`);\r\n\r\n  const snapShot = await userRef.get();\r\n\r\n  if (!snapShot.exists) {\r\n    const { displayName, email } = userAuth;\r\n    const createdAt = new Date();\r\n    try {\r\n      await userRef.set({\r\n        displayName,\r\n        email,\r\n        createdAt,\r\n        myTickets: [\"\"],\r\n        ...additionalData,\r\n      });\r\n    } catch (error) {\r\n      console.log(\"error creating user\", error.message);\r\n    }\r\n  }\r\n\r\n  return userRef;\r\n};\r\n\r\nexport const getCurrentUser = () => {\r\n  return new Promise((resolve, reject) => {\r\n    const unsubscribe = auth.onAuthStateChanged((userAuth) => {\r\n      unsubscribe();\r\n      resolve(userAuth);\r\n    }, reject);\r\n  });\r\n};\r\n\r\nexport const auth = firebase.auth();\r\nexport const firestore = firebase.firestore();\r\nexport const storage = firebase.storage();\r\n\r\nexport const googleProvider = new firebase.auth.GoogleAuthProvider();\r\ngoogleProvider.setCustomParameters({ prompt: \"select_account\" });\r\nexport const signInWithGoogle = () => auth.signInWithPopup(googleProvider);\r\n\r\nexport default firebase;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport CurrentUserContext from \"../../providers/current-user/current-user.provider\";\r\nimport { CurrentUser } from \"../../typescript-interfaces/current-user.interface\";\r\nimport { v4 } from \"uuid\";\r\nimport { firestore as db, storage } from \"../../firebase/firebase.utils\";\r\nimport firebase, { firestore } from \"firebase/app\";\r\nimport \"./defect-form.styles.scss\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nconst DefectForm = () => {\r\n  const [title, setTitle] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [defectImage, setDefectImage] = useState<File>();\r\n  const [priority, setPriority] = useState(\"\");\r\n  const [projectName, setProjectName] = useState(\"\");\r\n\r\n  const { projectId } = useParams<{ projectId: string }>();\r\n\r\n  const currentUser: CurrentUser = useContext(CurrentUserContext);\r\n\r\n  useEffect(() => {\r\n    db.collection(\"projects\")\r\n      .doc(projectId)\r\n      .get()\r\n      .then((doc: firestore.DocumentData) => {\r\n        setProjectName(doc.data().name);\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Couldn't fetch project name: \", error);\r\n      });\r\n  }, [projectId]);\r\n\r\n  const handleChange = (\r\n    event: React.ChangeEvent<\r\n      HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement\r\n    >\r\n  ) => {\r\n    const { name, value } = event.target;\r\n    switch (name) {\r\n      case \"title\":\r\n        setTitle(value);\r\n        break;\r\n\r\n      case \"description\":\r\n        setDescription(value);\r\n        break;\r\n\r\n      case \"priority\":\r\n        setPriority(value);\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const handleDefectImageChange = (\r\n    event: React.ChangeEvent<HTMLInputElement>\r\n  ) => {\r\n    if (event.target.files && event.target.files[0].size <= 3145728) {\r\n      setDefectImage(event.target.files ? event.target.files[0] : undefined);\r\n      console.log(defectImage);\r\n    } else {\r\n      alert(\"The maximum image size allowed is 3MB\");\r\n      setDefectImage(undefined);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = (event: React.FormEvent) => {\r\n    event.preventDefault();\r\n    const uid = v4();\r\n    const createdAt = new Date();\r\n    let imageUrl = \"\";\r\n\r\n    if (defectImage) {\r\n      var storageRef = storage.ref();\r\n\r\n      var metadata = {\r\n        contentType: \"image/jpeg\",\r\n      };\r\n\r\n      var uploadTask = storageRef\r\n        .child(\"images/\" + defectImage.name)\r\n        .put(defectImage, metadata);\r\n\r\n      uploadTask.on(\r\n        firebase.storage.TaskEvent.STATE_CHANGED,\r\n        function (snapshot: firebase.storage.UploadTaskSnapshot) {\r\n          var progress =\r\n            (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n          console.log(\"Upload is \" + progress + \"% done\");\r\n          switch (snapshot.state) {\r\n            case firebase.storage.TaskState.PAUSED:\r\n              console.log(\"Upload is paused\");\r\n              break;\r\n            case firebase.storage.TaskState.RUNNING:\r\n              console.log(\"Upload is running\");\r\n              break;\r\n          }\r\n        },\r\n        (error: Error) => {\r\n          console.error(\"Couldn't upload image: \", error);\r\n        },\r\n        () => {\r\n          uploadTask.snapshot.ref\r\n            .getDownloadURL()\r\n            .then(function (downloadURL: string) {\r\n              console.log(\"File available at\", downloadURL);\r\n              imageUrl = downloadURL;\r\n            })\r\n            .then(() => {\r\n              db.collection(\"tickets\")\r\n                .doc(uid)\r\n                .set({\r\n                  owner: {\r\n                    id: currentUser.id,\r\n                    displayName: currentUser.displayName,\r\n                    email: currentUser.email,\r\n                  },\r\n                  project: {\r\n                    projectId,\r\n                    projectName,\r\n                  },\r\n                  title,\r\n                  description,\r\n                  imageUrl,\r\n                  priority,\r\n                  createdAt,\r\n                  status: \"unassigned\",\r\n                  assignee: {\r\n                    id: \"\",\r\n                    displayName: \"\",\r\n                    email: \"\",\r\n                  },\r\n                  logs: [\r\n                    {\r\n                      personName: currentUser.displayName,\r\n                      personRole: currentUser.role,\r\n                      timestamp: createdAt,\r\n                      statusChangedTo: \"created\",\r\n                    },\r\n                  ],\r\n                  comments: [],\r\n                })\r\n                .then(() => {\r\n                  console.log(\"Ticket submitted successfully!\");\r\n                })\r\n                .then(() => {\r\n                  setTitle(\"\");\r\n                  setDescription(\"\");\r\n                  setPriority(\"\");\r\n                })\r\n                .catch(function (error) {\r\n                  console.error(\"Error creating ticket: \", error);\r\n                });\r\n            });\r\n        }\r\n      );\r\n    }\r\n\r\n    db.collection(\"users\")\r\n      .doc(currentUser.id)\r\n      .set(\r\n        {\r\n          myTickets: [...currentUser.myTickets, uid],\r\n        },\r\n        { merge: true }\r\n      );\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={\"pt-3 pl-2 pr-2 mt-5 mr-3 ml-3\"}\r\n      style={{ minHeight: \"86vh\" }}\r\n    >\r\n      <h1 className={\"text-center\"}>Raising a new defect for: {projectName}</h1>\r\n      <form className={\"mb-5\"} onSubmit={handleSubmit}>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"defectTitle\">Title</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"title\"\r\n            className=\"form-control\"\r\n            id=\"defectTitle\"\r\n            placeholder=\"Issue title here...\"\r\n            value={title}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"defectDescription\">Description</label>\r\n          <textarea\r\n            className=\"form-control\"\r\n            name=\"description\"\r\n            id=\"defectDescription\"\r\n            placeholder=\"Write a detailed description of the issue here...\"\r\n            rows={3}\r\n            value={description}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"defectImage\">Defect Image</label>\r\n          <input\r\n            type=\"file\"\r\n            name=\"defectImage\"\r\n            className=\"form-control-file\"\r\n            onChange={handleDefectImageChange}\r\n            id=\"defectImage\"\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"defectPriority\">Priority Level</label>\r\n          <select\r\n            className=\"form-control\"\r\n            name=\"priority\"\r\n            id=\"defectPriority\"\r\n            value={priority}\r\n            onChange={handleChange}\r\n          >\r\n            <option>--Select--</option>\r\n            <option>Severe</option>\r\n            <option>High</option>\r\n            <option>Medium</option>\r\n            <option>Low</option>\r\n            <option>Feature request</option>\r\n          </select>\r\n        </div>\r\n        <button type={\"submit\"} className={\"btn btn-dark\"}>\r\n          Submit Defect\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DefectForm;\r\n","import React from \"react\";\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <div className=\"card-footer text-white mt-auto text-center bg-dark\">\r\n      <h6>Created by Nikhil Choudhary</h6>\r\n      <p>&copy; Copyright 2020</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import React, { useContext } from \"react\";\r\nimport { Link, withRouter, useHistory } from \"react-router-dom\";\r\nimport { auth } from \"../../firebase/firebase.utils\";\r\nimport CurrentUserContext from \"../../providers/current-user/current-user.provider\";\r\nimport { CurrentUser } from \"../../typescript-interfaces/current-user.interface\";\r\nimport \"./navbar.styles.scss\";\r\n\r\nconst Navbar = () => {\r\n  const history = useHistory();\r\n  const currentUser: CurrentUser = useContext(CurrentUserContext);\r\n\r\n  const refreshComponent = () => {\r\n    window.location.reload();\r\n  };\r\n\r\n  return (\r\n    <div className={\"bootstrap-navbar\"}>\r\n      <nav className=\"navbar fixed-top navbar-expand-lg navbar-dark bg-dark\">\r\n        <Link to={\"/bugtrail-v3\"} className={\"navbar-brand\"}>\r\n          BUGTRAIL\r\n        </Link>\r\n        <button\r\n          className=\"navbar-toggler\"\r\n          type=\"button\"\r\n          data-toggle=\"collapse\"\r\n          data-target=\"#navbarNav\"\r\n          aria-controls=\"navbarNav\"\r\n          aria-expanded=\"false\"\r\n          aria-label=\"Toggle navigation\"\r\n        >\r\n          <span className=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n        <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n          <ul className=\"navbar-nav\">\r\n            <li\r\n              className={`nav-item ${\r\n                history.location.pathname === \"/bugtrail-v3\" ? \"active\" : \"\"\r\n              }`}\r\n            >\r\n              <Link to={\"/bugtrail-v3\"} className={\"nav-link\"}>\r\n                Home <span className=\"sr-only\">(current)</span>\r\n              </Link>\r\n            </li>\r\n            <li\r\n              className={`nav-item ${\r\n                history.location.pathname === \"/bugtrail-v3/register-and-login\"\r\n                  ? \"active\"\r\n                  : \"\"\r\n              }`}\r\n            >\r\n              {!currentUser.email && (\r\n                <Link\r\n                  to={\"/bugtrail-v3/register-and-login\"}\r\n                  className={\"nav-link\"}\r\n                >\r\n                  Login and Register\r\n                </Link>\r\n              )}\r\n            </li>\r\n            <li>\r\n              {currentUser.email && (\r\n                <div\r\n                  className={\"nav-link\"}\r\n                  style={{ cursor: \"pointer\" }}\r\n                  onClick={() => {\r\n                    auth.signOut();\r\n                    history.push(\"/bugtrail-v3\");\r\n                    refreshComponent();\r\n                  }}\r\n                >\r\n                  Logout\r\n                </div>\r\n              )}\r\n            </li>\r\n          </ul>\r\n          <span className=\"navbar-text ml-auto\">\r\n            {currentUser.email ? `Hi, ${currentUser.displayName}` : \"\"}\r\n          </span>\r\n        </div>\r\n      </nav>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withRouter(Navbar);\r\n","import { firestore } from \"firebase\";\r\nimport React, { useContext, useEffect, useState } from \"react\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport { firestore as db } from \"../../firebase/firebase.utils\";\r\nimport CurrentUserContext from \"../../providers/current-user/current-user.provider\";\r\nimport { CurrentUser } from \"../../typescript-interfaces/current-user.interface\";\r\nimport { Ticket } from \"../../typescript-interfaces/ticket.interface\";\r\n\r\nconst useQuery = () => {\r\n  return new URLSearchParams(useLocation().search);\r\n};\r\n\r\nconst ViewTickets = () => {\r\n  let query = useQuery();\r\n  let type = query.get(\"type\");\r\n  let projectId = query.get(\"projectId\");\r\n\r\n  const [ticketsList, setTicketsList] = useState<Array<Ticket>>([]);\r\n\r\n  const currentUser: CurrentUser = useContext(CurrentUserContext);\r\n\r\n  useEffect(() => {\r\n    setTicketsList([]);\r\n\r\n    let ticketsArray: Array<Ticket> = [];\r\n\r\n    db.collection(\"tickets\")\r\n      .orderBy(\"createdAt\", \"desc\")\r\n      .get()\r\n      .then((querySnapshot: firestore.QuerySnapshot) => {\r\n        querySnapshot.forEach((doc) => {\r\n          const {\r\n            project,\r\n            title,\r\n            description,\r\n            imageUrl,\r\n            priority,\r\n            status,\r\n            owner,\r\n            assignee,\r\n            createdAt,\r\n            logs,\r\n            comments,\r\n          } = doc.data();\r\n\r\n          ticketsArray.push({\r\n            id: doc.id,\r\n            project,\r\n            title,\r\n            description,\r\n            imageUrl,\r\n            priority,\r\n            status,\r\n            owner,\r\n            assignee,\r\n            createdAt,\r\n            logs,\r\n            comments,\r\n          });\r\n        });\r\n      })\r\n      .then(() => {\r\n        switch (type) {\r\n          case \"all\":\r\n            setTicketsList(\r\n              ticketsArray.filter((ticket) => {\r\n                if (projectId) {\r\n                  if (ticket.project.projectId === projectId) {\r\n                    return ticket;\r\n                  } else {\r\n                    return undefined;\r\n                  }\r\n                }\r\n                return ticket;\r\n              })\r\n            );\r\n            break;\r\n\r\n          case \"my\":\r\n            setTicketsList(\r\n              ticketsArray.filter((ticket) => {\r\n                if (ticket.owner.id === currentUser.id) {\r\n                  if (projectId) {\r\n                    if (ticket.project.projectId === projectId) {\r\n                      return ticket;\r\n                    }\r\n                  } else {\r\n                    return ticket;\r\n                  }\r\n                }\r\n                return undefined;\r\n              })\r\n            );\r\n            break;\r\n\r\n          case \"assigned-to-me\":\r\n            setTicketsList(\r\n              ticketsArray.filter((ticket) => {\r\n                if (ticket.assignee.id === currentUser.id) {\r\n                  if (projectId) {\r\n                    if (ticket.project.projectId === projectId) {\r\n                      return ticket;\r\n                    }\r\n                  } else {\r\n                    return ticket;\r\n                  }\r\n                }\r\n                return undefined;\r\n              })\r\n            );\r\n            break;\r\n\r\n          case \"unassigned\":\r\n            setTicketsList(\r\n              ticketsArray.filter((ticket) => {\r\n                if (ticket.status === \"unassigned\") {\r\n                  if (projectId) {\r\n                    if (ticket.project.projectId === projectId) {\r\n                      return ticket;\r\n                    }\r\n                  } else {\r\n                    return ticket;\r\n                  }\r\n                }\r\n                return undefined;\r\n              })\r\n            );\r\n            break;\r\n\r\n          case \"fixed\":\r\n            setTicketsList(\r\n              ticketsArray.filter((ticket) => {\r\n                if (ticket.status === \"fixed\") {\r\n                  if (projectId) {\r\n                    if (ticket.project.projectId === projectId) {\r\n                      return ticket;\r\n                    }\r\n                  } else {\r\n                    return ticket;\r\n                  }\r\n                }\r\n                return undefined;\r\n              })\r\n            );\r\n            break;\r\n\r\n          case \"failed\":\r\n            setTicketsList(\r\n              ticketsArray.filter((ticket) => {\r\n                if (ticket.status === \"failed\") {\r\n                  if (projectId) {\r\n                    if (ticket.project.projectId === projectId) {\r\n                      return ticket;\r\n                    }\r\n                  } else {\r\n                    return ticket;\r\n                  }\r\n                }\r\n                return undefined;\r\n              })\r\n            );\r\n            break;\r\n\r\n          default:\r\n            break;\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Couldn't fetch tickets: \", error);\r\n      });\r\n  }, [type, currentUser, projectId]);\r\n\r\n  return (\r\n    <div\r\n      className=\"pt-3 pb-3 pl-2 pr-2 mt-5 mr-3 ml-3 mb-5\"\r\n      style={{ minHeight: \"81vh\" }}\r\n    >\r\n      <h2 className={\"text-center\"}>View Tickets Here</h2>\r\n      {ticketsList.length > 0 ? (\r\n        <table className=\"table table-bordered table-striped table-dark mb-5\">\r\n          <thead>\r\n            <tr>\r\n              <th scope=\"col\">S.No.</th>\r\n              <th scope=\"col\">Issue Title</th>\r\n              <th scope=\"col\">Project</th>\r\n              <th scope=\"col\">Issue Priority</th>\r\n              <th scope=\"col\">Status</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {ticketsList.map((ticket, index) => (\r\n              <tr key={index}>\r\n                <th scope=\"row\">{index + 1}</th>\r\n                <td>\r\n                  <Link\r\n                    className={\"text-white\"}\r\n                    to={`/bugtrail-v3/ticket-details/${ticket.id}`}\r\n                  >\r\n                    {ticket.title}\r\n                  </Link>\r\n                </td>\r\n                <td>\r\n                  {ticket.project?.projectName\r\n                    ? ticket.project.projectName\r\n                    : \"\"}\r\n                </td>\r\n                <td>{ticket.priority}</td>\r\n                <td>{ticket.status}</td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      ) : (\r\n        <h3 className={\"text-center pt-5\"}>No tickets found</h3>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ViewTickets;\r\n","import React, { useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport CurrentUserContext from \"../../providers/current-user/current-user.provider\";\r\nimport { CurrentUser } from \"../../typescript-interfaces/current-user.interface\";\r\nimport \"./homepage.styles.scss\";\r\n\r\nconst Homepage = () => {\r\n  const currentUser: CurrentUser = useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <div className={\"pt-3 pb-3 mt-5\"} style={{minHeight: \"86vh\"}}>\r\n      {currentUser.email ? (\r\n        <div className=\"card border-dark m-5\">\r\n          <h5 className=\"card-header text-white bg-dark\">User Dashboard</h5>\r\n          <div className=\"card-body\">\r\n            <div className=\"row\">\r\n              <div className=\"col-md-3 col-sm-12\">\r\n                <div className=\"card border-dark mb-3\">\r\n                  <ul className=\"list-group list-group-flush\">\r\n                    <li className=\"list-group-item\">\r\n                      <Link\r\n                        className={\"link-font\"}\r\n                        to={\"/bugtrail-v3/projects\"}\r\n                      >\r\n                        {currentUser.role === \"admin\"\r\n                          ? \"View All Projects\"\r\n                          : \"View My Projects\"}\r\n                      </Link>\r\n                    </li>\r\n                    <li className=\"list-group-item\">\r\n                      <Link\r\n                        className={\"link-font\"}\r\n                        to={\"/bugtrail-v3/new-project\"}\r\n                      >\r\n                        Create A New Project\r\n                      </Link>\r\n                    </li>\r\n                    <li className=\"list-group-item\">\r\n                      <Link\r\n                        className={\"link-font\"}\r\n                        to={\"/bugtrail-v3/view-tickets?type=my\"}\r\n                      >\r\n                        My Tickets\r\n                      </Link>\r\n                    </li>\r\n                    <li className=\"list-group-item\">\r\n                      <Link\r\n                        className={\"link-font\"}\r\n                        to={\"/bugtrail-v3/view-tickets?type=all\"}\r\n                      >\r\n                        All Tickets\r\n                      </Link>\r\n                    </li>\r\n                    <li className=\"list-group-item\">\r\n                      <Link\r\n                        className={\"link-font\"}\r\n                        to={\"/bugtrail-v3/view-tickets?type=assigned-to-me\"}\r\n                      >\r\n                        Tickets Assigned To Me\r\n                      </Link>\r\n                    </li>\r\n                    {currentUser.role === \"Triage\" ? (\r\n                      <li className=\"list-group-item\">\r\n                        <Link\r\n                          className={\"link-font\"}\r\n                          to={\"/bugtrail-v3/view-tickets?type=unassigned\"}\r\n                        >\r\n                          Unassigned Tickets\r\n                        </Link>\r\n                      </li>\r\n                    ) : null}\r\n                    {currentUser.role === \"Triage\" ? (\r\n                      <li className=\"list-group-item\">\r\n                        <Link\r\n                          className={\"link-font\"}\r\n                          to={\"/bugtrail-v3/view-tickets?type=fixed\"}\r\n                        >\r\n                          Fixed Tickets\r\n                        </Link>\r\n                      </li>\r\n                    ) : null}\r\n                    {currentUser.role === \"Triage\" ? (\r\n                      <li className=\"list-group-item\">\r\n                        <Link\r\n                          className={\"link-font\"}\r\n                          to={\"/bugtrail-v3/view-tickets?type=failed\"}\r\n                        >\r\n                          Failed Tickets\r\n                        </Link>\r\n                      </li>\r\n                    ) : null}\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-md-9 col-sm-12\">\r\n                <div className=\"card border-dark\">\r\n                  <h5 className=\"card-header text-white bg-dark\">\r\n                    {currentUser.displayName}\r\n                  </h5>\r\n                  <ul className=\"list-group list-group-flush\">\r\n                    <li className=\"list-group-item\">\r\n                      <span className=\"badge badge-dark badge-pill\">\r\n                        User ID\r\n                      </span>{\" \"}\r\n                      {currentUser.id}\r\n                    </li>\r\n                    <li className=\"list-group-item\">\r\n                      <span className=\"badge badge-dark badge-pill\">Name</span>{\" \"}\r\n                      {currentUser.displayName}\r\n                    </li>\r\n                    <li className=\"list-group-item\">\r\n                      <span className=\"badge badge-dark badge-pill\">Email</span>{\" \"}\r\n                      {currentUser.email}\r\n                    </li>\r\n                    <li className=\"list-group-item\">\r\n                      <span className=\"badge badge-dark badge-pill\">\r\n                        Role Assigned\r\n                      </span>{\" \"}\r\n                      {currentUser.role}\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <h2 className={\"text-center\"}>\r\n          Welcome to Bugtrail. A bug tracking software. Please register or login\r\n          to continue.\r\n        </h2>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Homepage;\r\n","import \"./project-form.styles.scss\";\r\nimport React, { useContext, useState } from \"react\";\r\nimport { v4 } from \"uuid\";\r\nimport { firestore as db } from \"../../firebase/firebase.utils\";\r\nimport CurrentUserContext from \"../../providers/current-user/current-user.provider\";\r\nimport { firestore } from \"firebase\";\r\n\r\nconst ProjectForm = () => {\r\n  const [projName, setProjName] = useState(\"\");\r\n  const [projDescription, setProjDescription] = useState(\"\");\r\n  const [projStatus, setProjStatus] = useState(\"\");\r\n\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  const handleChange = (\r\n    event: React.ChangeEvent<\r\n      HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement\r\n    >\r\n  ) => {\r\n    const { name, value } = event.target;\r\n    switch (name) {\r\n      case \"projName\":\r\n        setProjName(value);\r\n        break;\r\n\r\n      case \"projDescription\":\r\n        setProjDescription(value);\r\n        break;\r\n      case \"projStatus\":\r\n        setProjStatus(value);\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const handleSubmit = (event: React.FormEvent) => {\r\n    event.preventDefault();\r\n\r\n    const projId = v4();\r\n    let projectArray: Array<string> = [];\r\n\r\n    db.collection(\"projects\")\r\n      .doc(projId)\r\n      .set({\r\n        name: projName,\r\n        description: projDescription,\r\n        status: projStatus,\r\n      })\r\n      .then(() => {\r\n        db.collection(\"users\")\r\n          .doc(currentUser.id)\r\n          .get()\r\n          .then((doc: firestore.DocumentData) => {\r\n            if (doc.exists) {\r\n              projectArray = doc.data().projects;\r\n            }\r\n          })\r\n          .then(() => {\r\n            db.collection(\"users\")\r\n              .doc(currentUser.id)\r\n              .set(\r\n                {\r\n                  projects: [...projectArray, projId],\r\n                },\r\n                { merge: true }\r\n              )\r\n              .then(() => {\r\n                console.log(\"Project created successfully!\");\r\n                setProjName(\"\");\r\n                setProjDescription(\"\");\r\n                setProjStatus(\"\");\r\n              })\r\n              .catch((error) => {\r\n                console.error(\"Error writing document: \", error);\r\n              });\r\n          });\r\n      })\r\n      .catch(function (error) {\r\n        console.error(\"Error writing document: \", error);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={\"pt-5 pb-3 pl-2 pr-2 mt-5 mr-3 ml-3 mb-5\"}\r\n      style={{ minHeight: \"81vh\" }}\r\n    >\r\n      <h2 className=\"text-center\">CREATE A NEW PROJECT</h2>\r\n      <form className={\"mb-5\"} onSubmit={handleSubmit}>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"projName\">Title</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"projName\"\r\n            className=\"form-control\"\r\n            id=\"projName\"\r\n            placeholder=\"Project name here...\"\r\n            value={projName}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"projDescription\">Description</label>\r\n          <textarea\r\n            className=\"form-control\"\r\n            name=\"projDescription\"\r\n            id=\"projDescription\"\r\n            placeholder=\"Write a description for your project here...\"\r\n            rows={3}\r\n            value={projDescription}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"projStatus\">Operational Status</label>\r\n          <select\r\n            className=\"form-control\"\r\n            name=\"projStatus\"\r\n            id=\"projStatus\"\r\n            value={projStatus}\r\n            onChange={handleChange}\r\n          >\r\n            <option>--Select--</option>\r\n            <option>Active</option>\r\n            <option>Inactive</option>\r\n            <option>Ended</option>\r\n            <option>Maintenance</option>\r\n          </select>\r\n        </div>\r\n        <button type={\"submit\"} className={\"btn btn-dark\"}>\r\n          Create Project\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProjectForm;\r\n","import \"./projects-details.styles.scss\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Project } from \"../../typescript-interfaces/project.interface\";\r\nimport { firestore as db } from \"../../firebase/firebase.utils\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport { firestore } from \"firebase\";\r\n\r\ninterface Member {\r\n  id: string;\r\n  displayName: string;\r\n  email: string;\r\n  role: string;\r\n  projects: Array<string>;\r\n}\r\n\r\nconst ProjectDetails = () => {\r\n  const { projectId } = useParams<{ projectId: string }>();\r\n\r\n  const [refresh, setRefresh] = useState(false);\r\n  const [project, setProject] = useState<Project>();\r\n  const [projectMembers, setProjectMembers] = useState<Array<Member>>([]);\r\n  const [nonMembers, setNonMembers] = useState<Array<Member>>([]);\r\n  const [personToAdd, setPersonToAdd] = useState(\"\");\r\n\r\n  const [priorityLow, setPriorityLow] = useState(0);\r\n  const [priorityMedium, setPriorityMedium] = useState(0);\r\n  const [priorityHigh, setPriorityHigh] = useState(0);\r\n  const [prioritySevere, setPrioritySevere] = useState(0);\r\n  const [priorityFeatureRequest, setPriorityFeatureRequest] = useState(0);\r\n\r\n  useEffect(() => {\r\n    db.collection(\"projects\")\r\n      .doc(projectId)\r\n      .get()\r\n      .then((doc: firestore.DocumentData) => {\r\n        if (doc.exists) {\r\n          const { name, description, status } = doc.data();\r\n          setProject({\r\n            id: doc.id,\r\n            name,\r\n            description,\r\n            status,\r\n          });\r\n        } else {\r\n          console.log(\"No such document!\");\r\n        }\r\n      })\r\n      .then(() => {\r\n        setProjectMembers([]);\r\n        setNonMembers([]);\r\n\r\n        db.collection(\"users\")\r\n          .get()\r\n          .then((querySnapshot) => {\r\n            querySnapshot.forEach(function (doc) {\r\n              // If the user is a member of this project then add him to \"people\" array.\r\n              const { displayName, email, role, projects } = doc.data();\r\n              if (projects.includes(projectId)) {\r\n                setProjectMembers((prevState) => [\r\n                  ...prevState,\r\n                  {\r\n                    id: doc.id,\r\n                    displayName,\r\n                    email,\r\n                    role,\r\n                    projects,\r\n                  },\r\n                ]);\r\n              } else {\r\n                setNonMembers((prevState) => [\r\n                  ...prevState,\r\n                  {\r\n                    id: doc.id,\r\n                    displayName,\r\n                    email,\r\n                    role,\r\n                    projects,\r\n                  },\r\n                ]);\r\n              }\r\n            });\r\n          });\r\n      })\r\n      .then(() => {\r\n        db.collection(\"tickets\")\r\n          .get()\r\n          .then((querySnapshot) => {\r\n            querySnapshot.forEach((doc: firestore.DocumentData) => {\r\n              if (doc.data().project.projectId === projectId) {\r\n                switch (doc.data().priority) {\r\n                  case \"Low\":\r\n                    setPriorityLow((prevState) => prevState + 1);\r\n                    break;\r\n\r\n                  case \"Medium\":\r\n                    setPriorityMedium((prevState) => prevState + 1);\r\n                    break;\r\n\r\n                  case \"High\":\r\n                    setPriorityHigh((prevState) => prevState + 1);\r\n                    break;\r\n\r\n                  case \"Severe\":\r\n                    setPrioritySevere((prevState) => prevState + 1);\r\n                    break;\r\n\r\n                  case \"Feature request\":\r\n                    setPriorityFeatureRequest((prevState) => prevState + 1);\r\n                    break;\r\n\r\n                  default:\r\n                    break;\r\n                }\r\n              }\r\n            });\r\n          })\r\n          .catch((error) => {\r\n            console.error(\"Ticket priorities couldn't be fetched: \", error);\r\n          });\r\n      })\r\n      .catch(function (error) {\r\n        console.log(\"Error getting document:\", error);\r\n      });\r\n  }, [projectId, refresh]);\r\n\r\n  const handleChangePersonToAdd = (\r\n    event: React.ChangeEvent<HTMLSelectElement>\r\n  ) => {\r\n    setPersonToAdd(event.target.value);\r\n  };\r\n\r\n  const handleAddMember = (event: React.FormEvent) => {\r\n    event.preventDefault();\r\n\r\n    let projectsArray: Array<string>;\r\n\r\n    db.collection(\"users\")\r\n      .doc(personToAdd)\r\n      .get()\r\n      .then((doc: firestore.DocumentData) => {\r\n        if (doc.exists) {\r\n          projectsArray = doc.data().projects;\r\n        } else {\r\n          console.log(\"No such document!\");\r\n        }\r\n      })\r\n      .then(() => {\r\n        db.collection(\"users\")\r\n          .doc(personToAdd)\r\n          .set(\r\n            {\r\n              projects: [...projectsArray, projectId],\r\n            },\r\n            { merge: true }\r\n          )\r\n          .then(() => {\r\n            console.log(\"projects updated successfully!\");\r\n          })\r\n          .then(() => {\r\n            refreshComponent();\r\n          })\r\n          .catch((error) => {\r\n            console.error(\"couldn't update projects!\", error);\r\n          });\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error getting document: \", error);\r\n      });\r\n  };\r\n\r\n  const handleRemoveMember = (memberId: string) => (event: React.FormEvent) => {\r\n    event.preventDefault();\r\n\r\n    let projectsArray: Array<string> = [];\r\n\r\n    db.collection(\"users\")\r\n      .doc(memberId)\r\n      .get()\r\n      .then((doc: firestore.DocumentData) => {\r\n        if (doc.exists) {\r\n          projectsArray = doc.data().projects;\r\n\r\n          if (projectsArray && projectsArray.includes(projectId)) {\r\n            projectsArray.splice(projectsArray.indexOf(projectId), 1);\r\n          } else {\r\n            console.log(\"User isn't a part of this project!\");\r\n          }\r\n        }\r\n      })\r\n      .then(() => {\r\n        console.log(\"Entered 2nd then block\");\r\n\r\n        db.collection(\"users\")\r\n          .doc(memberId)\r\n          .set(\r\n            {\r\n              projects: projectsArray,\r\n            },\r\n            { merge: true }\r\n          )\r\n          .then(() => {\r\n            console.log(\"project removed successfully!\");\r\n          })\r\n          .then(() => {\r\n            refreshComponent();\r\n          })\r\n          .catch((error) => {\r\n            console.error(\"couldn't remove project!\", error);\r\n          });\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Couldn't remove user from project: \", error);\r\n      });\r\n  };\r\n\r\n  const refreshComponent = () => {\r\n    // window.location.reload();\r\n    setRefresh((prevState) => !prevState);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={\"pt-3 pb-3 pl-2 pr-2 mt-5 mr-3 ml-3 mb-5\"}\r\n      style={{ minHeight: \"81vh\" }}\r\n    >\r\n      <h2 className=\"text-center\">Project Details Page</h2>\r\n      <div className=\"card border-dark mb-3\">\r\n        <div className=\"card-header text-white bg-dark\">\r\n          Name: {project?.name}\r\n        </div>\r\n        <div className=\"card-body\">\r\n          <div className=\"row\">\r\n            <div className=\"col-md-3 col-sm-12\">\r\n              <div className=\"card border-dark mb-3\">\r\n                <ul className=\"list-group list-group-flush\">\r\n                  <li className=\"list-group-item\">\r\n                    <Link\r\n                      className={\"text-decoration-none text-dark\"}\r\n                      to={`/bugtrail-v3/new-defect/${projectId}`}\r\n                    >\r\n                      Raise a new Defect\r\n                    </Link>\r\n                  </li>\r\n                  <li className=\"list-group-item\">\r\n                    <Link\r\n                      className={\"text-decoration-none text-dark\"}\r\n                      to={`/bugtrail-v3/view-tickets/?projectId=${projectId}&type=all`}\r\n                    >\r\n                      View all tickets for:-\r\n                      <div\r\n                        style={{\r\n                          textTransform: \"uppercase\",\r\n                          fontWeight: \"bold\",\r\n                        }}\r\n                      >\r\n                        {project?.name}\r\n                      </div>\r\n                    </Link>\r\n                  </li>\r\n                  <li className=\"list-group-item\">\r\n                    Add people to the project\r\n                    <form onSubmit={handleAddMember}>\r\n                      <div className={\"form-group mt-3\"}>\r\n                        <select\r\n                          className={\"form-control\"}\r\n                          value={personToAdd}\r\n                          onChange={handleChangePersonToAdd}\r\n                          name=\"addMembers\"\r\n                        >\r\n                          <option>--Select One--</option>\r\n                          {nonMembers.map((person) => {\r\n                            return (\r\n                              <option value={person.id} key={person.id}>\r\n                                {person.displayName}@{person.email}\r\n                              </option>\r\n                            );\r\n                          })}\r\n                        </select>\r\n                      </div>\r\n                      <button type={\"submit\"} className=\"btn btn-dark\">\r\n                        Add Member\r\n                      </button>\r\n                    </form>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-md-9 col-sm-12\">\r\n              <div className=\"card border-dark\">\r\n                <ul className=\"list-group list-group-flush\">\r\n                  <li className=\"list-group-item\">\r\n                    <span className=\"badge badge-pill badge-dark\">ID</span>{\" \"}\r\n                    {project?.id}\r\n                  </li>\r\n                  <li className=\"list-group-item\">\r\n                    <span className=\"badge badge-pill badge-dark\">\r\n                      Descrition\r\n                    </span>{\" \"}\r\n                    {project?.description}\r\n                  </li>\r\n                  <li className=\"list-group-item\">\r\n                    <span className=\"badge badge-pill badge-dark\">status</span>{\" \"}\r\n                    {project?.status}\r\n                  </li>\r\n                  <li className=\"list-group-item\">\r\n                    <span className=\"badge badge-pill badge-dark\">Severe</span>{\" \"}\r\n                    {prioritySevere}\r\n                  </li>\r\n                  <li className=\"list-group-item\">\r\n                    <span className=\"badge badge-pill badge-dark\">High</span>{\" \"}\r\n                    {priorityHigh}\r\n                  </li>\r\n                  <li className=\"list-group-item\">\r\n                    <span className=\"badge badge-pill badge-dark\">Medium</span>{\" \"}\r\n                    {priorityMedium}\r\n                  </li>\r\n                  <li className=\"list-group-item\">\r\n                    <span className=\"badge badge-pill badge-dark\">Low</span>{\" \"}\r\n                    {priorityLow}\r\n                  </li>\r\n                  <li className=\"list-group-item\">\r\n                    <span className=\"badge badge-pill badge-dark\">\r\n                      Feature Request\r\n                    </span>{\" \"}\r\n                    {priorityFeatureRequest}\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <table className=\"table table-striped table-bordered table-dark mb-5\">\r\n        <thead>\r\n          <tr>\r\n            <th scope=\"col\">S.No.</th>\r\n            <th scope=\"col\">Project Members</th>\r\n            <th scope=\"col\">Members Emails</th>\r\n            <th scope=\"col\">Roles</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {projectMembers.map((person, index) => {\r\n            return (\r\n              <tr key={index}>\r\n                <th scope=\"row\">{index + 1}</th>\r\n                <td>{person.displayName}</td>\r\n                <td>{person.email}</td>\r\n                <td>{person.role}</td>\r\n                <td className={\"text-center\"}>\r\n                  <button\r\n                    className=\"btn btn-danger\"\r\n                    onClick={handleRemoveMember(person.id)}\r\n                  >\r\n                    Remove\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            );\r\n          })}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProjectDetails;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport \"./projects.styles.scss\";\r\nimport { firestore } from \"../../firebase/firebase.utils\";\r\nimport { Project } from \"../../typescript-interfaces/project.interface\";\r\nimport { Link } from \"react-router-dom\";\r\nimport CurrentUserContext from \"../../providers/current-user/current-user.provider\";\r\n\r\nconst Projects = () => {\r\n  const [projectsList, setProjectsList] = useState<Array<Project>>([]);\r\n\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  useEffect(() => {\r\n    firestore\r\n      .collection(\"projects\")\r\n      .get()\r\n      .then((querySnapshot) => {\r\n        querySnapshot.forEach((doc) => {\r\n          if (currentUser.projects.includes(doc.id)) {\r\n            setProjectsList((prevState) => [\r\n              ...prevState,\r\n              {\r\n                id: doc.id,\r\n                name: doc.data().name,\r\n                description: doc.data().description,\r\n                status: doc.data().status,\r\n              },\r\n            ]);\r\n          }\r\n        });\r\n      });\r\n  }, [currentUser.projects]);\r\n\r\n  return (\r\n    <div\r\n      className={\"pt-5 pb-3 pl-2 pr-2 mt-5 mr-3 ml-3 mb-5\"}\r\n      style={{ minHeight: \"81vh\" }}\r\n    >\r\n      <h2 className={\"text-center\"}>PROJECTS PAGE</h2>\r\n      <table className=\"table table-bordered table-striped table-dark mb-5\">\r\n        <thead>\r\n          <tr>\r\n            <th scope=\"col\">S.No.</th>\r\n            <th scope=\"col\">Project Name</th>\r\n            <th scope=\"col\">Project Status</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {projectsList.map((project, index) => {\r\n            return (\r\n              <tr key={index}>\r\n                <th scope=\"row\">{index + 1}</th>\r\n                <td>\r\n                  <Link\r\n                    className={\"text-white text-decoration-none\"}\r\n                    to={`/bugtrail-v3/project-details/${project.id}`}\r\n                  >\r\n                    {project.name}\r\n                  </Link>\r\n                </td>\r\n                <td>{project.status}</td>\r\n              </tr>\r\n            );\r\n          })}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Projects;\r\n","import React, { useState } from \"react\";\r\nimport { auth } from \"../../firebase/firebase.utils\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"./login.styles.scss\";\r\n\r\ninterface UserLogin {\r\n  [fieldName: string]: string;\r\n}\r\n\r\nconst Login = () => {\r\n  const history = useHistory();\r\n  const [userCredentials, setUserCredentials] = useState({\r\n    email: \"developer@nikhil.com\",\r\n    password: \"12345678\",\r\n  });\r\n\r\n  const { email, password } = userCredentials;\r\n\r\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = event.target;\r\n    setUserCredentials((prevUserCredentials) => ({\r\n      ...prevUserCredentials,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (event: React.FormEvent) => {\r\n    event.preventDefault();\r\n\r\n    try {\r\n      await auth.signInWithEmailAndPassword(email, password);\r\n      setUserCredentials({\r\n        email: \"\",\r\n        password: \"\",\r\n      });\r\n      history.push(\"/bugtrail-v3\");\r\n    } catch (error) {\r\n      console.error(\"Couldn't login user: \", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={\"text-center mb-5 mt-5\"}>\r\n      <form className=\"form-signin\" onSubmit={handleSubmit}>\r\n        <img\r\n          className=\"mb-4\"\r\n          src=\"https://banner2.cleanpng.com/20180526/ux/kisspng-software-bug-undocumented-feature-computer-softwar-5b093b61afe799.6982676615273316817205.jpg\"\r\n          alt=\"bugtrail\"\r\n          width=\"72\"\r\n          height=\"72\"\r\n        />\r\n        <h1 className=\"h3 mb-3 font-weight-normal\">Please Login</h1>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"loginEmail\" className=\"sr-only\">\r\n            Email address\r\n          </label>\r\n          <input\r\n            type=\"email\"\r\n            name=\"email\"\r\n            id=\"loginEmail\"\r\n            className=\"form-control\"\r\n            placeholder=\"Email address\"\r\n            value={email}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"loginPassword\" className=\"sr-only\">\r\n            Password\r\n          </label>\r\n          <input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            id=\"loginPassword\"\r\n            className=\"form-control\"\r\n            placeholder=\"Password\"\r\n            value={password}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"checkbox mb-3\">\r\n          <label>\r\n            <input type=\"checkbox\" value=\"remember-me\" /> Remember me\r\n          </label>\r\n        </div>\r\n        <button className=\"btn btn-lg btn-dark btn-block\" type=\"submit\">\r\n          Login\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import \"./register.styles.scss\";\r\nimport React, { useState } from \"react\";\r\nimport { auth, createUserProfileDocument } from \"../../firebase/firebase.utils\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\ninterface UserRegister {\r\n  [fieldName: string]: string;\r\n}\r\n\r\nconst Register = () => {\r\n  const history = useHistory();\r\n  const [userCredentials, setUserCredentials] = useState<UserRegister>({\r\n    fName: \"Developer\",\r\n    lName: \"Schwarz\",\r\n    role: \"Developer\",\r\n    email: \"developer@nikhil.com\",\r\n    password: \"12345678\",\r\n    confirmPassword: \"12345678\",\r\n  });\r\n\r\n  const {\r\n    fName,\r\n    lName,\r\n    role,\r\n    email,\r\n    password,\r\n    confirmPassword,\r\n  } = userCredentials;\r\n\r\n  const handleChange = (\r\n    event: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>\r\n  ) => {\r\n    const { name, value } = event.target;\r\n    setUserCredentials((prevUserCredentials) => ({\r\n      ...prevUserCredentials,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (event: React.FormEvent) => {\r\n    console.log(\"Entered handleSubmit\");\r\n    event.preventDefault();\r\n\r\n    if (password !== confirmPassword) {\r\n      alert(\"Passwords don't match!\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const { user }: any = await auth.createUserWithEmailAndPassword(\r\n        email,\r\n        password\r\n      );\r\n      await createUserProfileDocument(user, {\r\n        displayName: `${fName} ${lName}`,\r\n        role,\r\n        createdProjects: [\"\"],\r\n        projects: [\"\"],\r\n      });\r\n      setUserCredentials({\r\n        fName: \"\",\r\n        lName: \"\",\r\n        role: \"\",\r\n        email: \"\",\r\n        password: \"\",\r\n        confirmPassword: \"\",\r\n      });\r\n      history.push(\"/bugtrail-v3\");\r\n    } catch (error) {\r\n      console.error(\"Error creating user: \", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={\"text-center mb-5 mt-5\"}>\r\n      <form className=\"form-signin\" onSubmit={handleSubmit}>\r\n        <img\r\n          className=\"mb-4\"\r\n          src=\"https://banner2.cleanpng.com/20180526/ux/kisspng-software-bug-undocumented-feature-computer-softwar-5b093b61afe799.6982676615273316817205.jpg\"\r\n          alt=\"bugtrail\"\r\n          width=\"72\"\r\n          height=\"72\"\r\n        />\r\n        <h1 className=\"h3 mb-3 font-weight-normal\">Please Register</h1>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"firstName\" className=\"sr-only\">\r\n            First Name\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"fName\"\r\n            id=\"firstName\"\r\n            className=\"form-control\"\r\n            placeholder=\"First Name\"\r\n            value={fName}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"lastName\" className=\"sr-only\">\r\n            Last Name\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"lName\"\r\n            id=\"lastName\"\r\n            className=\"form-control\"\r\n            placeholder=\"Last Name\"\r\n            value={lName}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <select\r\n            className=\"form-control\"\r\n            name=\"role\"\r\n            id=\"role\"\r\n            value={role}\r\n            onChange={handleChange}\r\n          >\r\n            <option>--Select--</option>\r\n            <option>Admin</option>\r\n            <option>Developer</option>\r\n            <option>Triage</option>\r\n            <option>Tester</option>\r\n          </select>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"registerEmail\" className=\"sr-only\">\r\n            Email address\r\n          </label>\r\n          <input\r\n            type=\"email\"\r\n            name=\"email\"\r\n            id=\"registerEmail\"\r\n            className=\"form-control\"\r\n            placeholder=\"Email address\"\r\n            onChange={handleChange}\r\n            value={email}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"registerPassword\" className=\"sr-only\">\r\n            Password\r\n          </label>\r\n          <input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            id=\"registerPassword\"\r\n            className=\"form-control\"\r\n            placeholder=\"Password\"\r\n            value={password}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"inputConfirmPassword\" className=\"sr-only\">\r\n            Confirm Password\r\n          </label>\r\n          <input\r\n            type=\"password\"\r\n            name=\"confirmPassword\"\r\n            id=\"inputConfirmPassword\"\r\n            className=\"form-control\"\r\n            placeholder=\"Confirm Password\"\r\n            value={confirmPassword}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"checkbox mb-3\">\r\n          <label>\r\n            <input type=\"checkbox\" value=\"remember-me\" /> Remember me\r\n          </label>\r\n        </div>\r\n        <button className=\"btn btn-lg btn-dark btn-block\" type=\"submit\">\r\n          Register\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","import \"./register-and-login.styles.scss\";\r\nimport React from \"react\";\r\nimport Login from \"../../components/login/login.component\";\r\nimport Register from \"../../components/register/register.component\";\r\n\r\nconst RegisterAndLogin = () => {\r\n  return (\r\n    <div className={\"pt-5 pl-3 pr-3 pb-5\"} style={{ minHeight: \"91vh\" }}>\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 col-sm-12\">\r\n          <Login />\r\n        </div>\r\n        <div className=\"col-md-6 col-sm-12\">\r\n          <Register />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RegisterAndLogin;\r\n","import { firestore } from \"firebase\";\r\nimport { firestore as db } from \"../../firebase/firebase.utils\";\r\nimport React, { useContext, useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { Ticket } from \"../../typescript-interfaces/ticket.interface\";\r\nimport CurrentUserContext from \"../../providers/current-user/current-user.provider\";\r\nimport { CurrentUser } from \"../../typescript-interfaces/current-user.interface\";\r\n\r\ninterface Assignee {\r\n  id: string;\r\n  displayName: string;\r\n  email: string;\r\n}\r\n\r\ninterface Comment {\r\n  personName: string;\r\n  personRole: string;\r\n  timestamp: Date;\r\n  comment: string;\r\n}\r\n\r\nconst TicketDetailsPage = () => {\r\n  let { ticketId } = useParams<{ ticketId: string }>();\r\n  const currentUser: CurrentUser = useContext(CurrentUserContext);\r\n\r\n  const [refresh, setRefresh] = useState(true);\r\n  const [projectId, setProjectId] = useState(\"\");\r\n  const [usersList, setUsersList] = useState<Array<Assignee>>([]);\r\n  const [assignee, setAssignee] = useState({\r\n    id: \"\",\r\n    displayName: \"\",\r\n    email: \"\",\r\n  });\r\n  const [status, setStatus] = useState(\"\");\r\n  const [comment, setcomment] = useState(\"\");\r\n  const [ticket, setTicket] = useState<Ticket>({\r\n    id: \"\",\r\n    project: {\r\n      projectId: \"\",\r\n      projectName: \"\",\r\n    },\r\n    title: \"\",\r\n    description: \"\",\r\n    imageUrl: \"\",\r\n    priority: \"\",\r\n    status: \"\",\r\n    owner: {\r\n      displayName: \"\",\r\n      email: \"\",\r\n      id: \"\",\r\n    },\r\n    assignee: {\r\n      displayName: \"\",\r\n      email: \"\",\r\n      id: \"\",\r\n    },\r\n    createdAt: \"\",\r\n    logs: [],\r\n    comments: [],\r\n  });\r\n\r\n  useEffect(() => {\r\n    db.collection(\"tickets\")\r\n      .doc(ticketId)\r\n      .get()\r\n      .then(function (doc: firestore.DocumentData) {\r\n        if (doc.exists) {\r\n          const {\r\n            project,\r\n            title,\r\n            description,\r\n            imageUrl,\r\n            priority,\r\n            status,\r\n            owner,\r\n            assignee,\r\n            createdAt,\r\n            logs,\r\n            comments,\r\n          } = doc.data();\r\n          setTicket({\r\n            id: doc.id,\r\n            project,\r\n            title,\r\n            description,\r\n            imageUrl,\r\n            priority,\r\n            status,\r\n            owner,\r\n            assignee,\r\n            createdAt: createdAt.toDate().toString(),\r\n            logs,\r\n            comments,\r\n          });\r\n          setAssignee(assignee);\r\n          setStatus(status);\r\n          setProjectId(project.projectId);\r\n        } else {\r\n          // doc.data() will be undefined in this case\r\n          console.log(\"No such document!\");\r\n        }\r\n      })\r\n      .then(() => {\r\n        db.collection(\"users\")\r\n          .get()\r\n          .then((querySnapshot: firestore.QuerySnapshot) => {\r\n            setUsersList([]);\r\n\r\n            querySnapshot.forEach((doc) => {\r\n              if (doc.data().projects.includes(projectId)) {\r\n                setUsersList((prevState) => [\r\n                  ...prevState,\r\n                  {\r\n                    id: doc.id,\r\n                    displayName: doc.data().displayName,\r\n                    email: doc.data().email,\r\n                  },\r\n                ]);\r\n              }\r\n            });\r\n          })\r\n          .catch((error: firestore.FirestoreError) => {\r\n            console.error(\"couldn't fetch the users list: \", error);\r\n          });\r\n      })\r\n      .catch(function (error: firestore.FirestoreError) {\r\n        console.error(\"Error getting document:\", error);\r\n      });\r\n  }, [ticketId, projectId, refresh]);\r\n\r\n  const handleChangeAssignee = (\r\n    event: React.ChangeEvent<HTMLSelectElement>\r\n  ) => {\r\n    usersList.forEach((user) => {\r\n      if (user.displayName === event.target.value) {\r\n        setAssignee(user);\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleSubmitAssignee = (event: React.FormEvent) => {\r\n    event.preventDefault();\r\n    const status = assignee ? \"assigned\" : \"unassigned\";\r\n\r\n    let logsArray: Array<{\r\n      personName: string;\r\n      timestamp: Date;\r\n      changedStatusTo: string;\r\n    }> = [];\r\n\r\n    db.collection(\"tickets\")\r\n      .doc(ticketId)\r\n      .get()\r\n      .then((doc: firestore.DocumentData) => {\r\n        if (doc.exists) {\r\n          logsArray = doc.data().logs;\r\n        }\r\n      })\r\n      .then(() => {\r\n        db.collection(\"tickets\")\r\n          .doc(ticketId)\r\n          .set(\r\n            {\r\n              assignee,\r\n              status,\r\n              logs: [\r\n                ...logsArray,\r\n                {\r\n                  personName: currentUser.displayName,\r\n                  personRole: currentUser.role,\r\n                  timestamp: new Date(),\r\n                  statusChangedTo: status,\r\n                },\r\n              ],\r\n            },\r\n            { merge: true }\r\n          )\r\n          .then(() => {\r\n            console.log(\"Status changed successfully!\");\r\n          })\r\n          .then(() => {\r\n            refreshComponent();\r\n          })\r\n          .catch((error) => {\r\n            console.error(\"Error changing status: \", error);\r\n          });\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Couldn't fetch logs array: \", error);\r\n      });\r\n  };\r\n\r\n  const refreshComponent = () => {\r\n    // window.location.reload();\r\n    setRefresh((prevState) => !prevState);\r\n  };\r\n\r\n  const handleChangeStatus = (event: React.ChangeEvent<HTMLSelectElement>) => {\r\n    setStatus(event.target.value);\r\n  };\r\n\r\n  const handleSubmitStatus = (event: React.FormEvent) => {\r\n    event.preventDefault();\r\n\r\n    let logsArray: Array<{\r\n      personName: string;\r\n      timestamp: Date;\r\n      changedStatusTo: string;\r\n    }> = [];\r\n\r\n    db.collection(\"tickets\")\r\n      .doc(ticketId)\r\n      .get()\r\n      .then((doc: firestore.DocumentData) => {\r\n        if (doc.exists) {\r\n          logsArray = doc.data().logs;\r\n        }\r\n      })\r\n      .then(() => {\r\n        db.collection(\"tickets\")\r\n          .doc(ticketId)\r\n          .set(\r\n            {\r\n              status,\r\n              logs: [\r\n                ...logsArray,\r\n                {\r\n                  personName: currentUser.displayName,\r\n                  personRole: currentUser.role,\r\n                  timestamp: new Date(),\r\n                  statusChangedTo: status,\r\n                },\r\n              ],\r\n            },\r\n            { merge: true }\r\n          )\r\n          .then(() => {\r\n            console.log(\"Status changed successfully!\");\r\n          })\r\n          .then(() => {\r\n            refreshComponent();\r\n          })\r\n          .catch((error) => {\r\n            console.error(\"Error changing status: \", error);\r\n          });\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Couldn't fetch logs array: \", error);\r\n      });\r\n  };\r\n\r\n  const handleCommentChange = (\r\n    event: React.ChangeEvent<HTMLTextAreaElement>\r\n  ) => {\r\n    setcomment(event.target.value);\r\n  };\r\n\r\n  const handleSubmitComment = (event: React.FormEvent) => {\r\n    event.preventDefault();\r\n\r\n    let commentsArray: Array<Comment> = [];\r\n\r\n    db.collection(\"tickets\")\r\n      .doc(ticketId)\r\n      .get()\r\n      .then((doc: firestore.DocumentData) => {\r\n        if (doc.exists) {\r\n          commentsArray = doc.data().comments;\r\n        }\r\n      })\r\n      .then(() => {\r\n        db.collection(\"tickets\")\r\n          .doc(ticketId)\r\n          .set(\r\n            {\r\n              comments: [\r\n                ...commentsArray,\r\n                {\r\n                  personName: currentUser.displayName,\r\n                  personRole: currentUser.role,\r\n                  timestamp: new Date(),\r\n                  comment,\r\n                },\r\n              ],\r\n            },\r\n            { merge: true }\r\n          )\r\n          .then(() => {\r\n            console.log(\"Successfully added the comment.\");\r\n            refreshComponent();\r\n            setcomment(\"\");\r\n          })\r\n          .catch((error) => {\r\n            console.error(\"Couldn't add the comment: \", error);\r\n          });\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Couldn't fetch comments array: \", error);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={\"pt-3 pb-3 pl-2 pr-2 mt-5 mr-3 ml-3 mb-5\"}\r\n      style={{ minHeight: \"81vh\" }}\r\n    >\r\n      <h2 className={\"text-center\"}>Ticket Details Page</h2>\r\n      <div className=\"card border-dark mb-5\">\r\n        <ul className=\"list-group\">\r\n          <li className=\"list-group-item\">\r\n            <span className={\"badge badge-dark\"}>ID</span> {ticketId}\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <span className={\"badge badge-dark\"}>Project Name</span>{\" \"}\r\n            {ticket.project.projectName}\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <span className={\"badge badge-dark\"}>Title</span> {ticket.title}\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <span className={\"badge badge-dark\"}>Description</span>{\" \"}\r\n            {ticket.description}\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <span className={\"badge badge-dark\"}>Priority</span>{\" \"}\r\n            {ticket.priority}\r\n          </li>\r\n          <li className={\"list-group-item\"}>\r\n            <div className={\"mb-3\"}>\r\n              <span className={\"badge badge-dark\"}>Screenshot</span>\r\n            </div>\r\n\r\n            <img\r\n              src={ticket.imageUrl}\r\n              alt=\"defect screenshot\"\r\n              className={\"img-fluid\"}\r\n            />\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <span className={\"badge badge-dark\"}>Created At</span>{\" \"}\r\n            {ticket.createdAt}\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <span className={\"badge badge-dark\"}>Owner</span>{\" \"}\r\n            {ticket.owner.displayName}\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <span className={\"badge badge-dark\"}>Asignee</span>{\" \"}\r\n            {ticket.assignee.displayName}\r\n            {currentUser.role === \"Triage\" ? (\r\n              <div className={\"mt-3\"}>\r\n                <select\r\n                  className=\"text-center\"\r\n                  name={\"assignee\"}\r\n                  id=\"assignee\"\r\n                  value={assignee.displayName}\r\n                  onChange={handleChangeAssignee}\r\n                >\r\n                  <option className={\"\"}>--Select--</option>\r\n                  {usersList.map((user, index) => (\r\n                    <option key={index}>{user.displayName}</option>\r\n                  ))}\r\n                </select>{\" \"}\r\n                <button\r\n                  className=\"btn btn-sm btn-dark\"\r\n                  onClick={handleSubmitAssignee}\r\n                >\r\n                  Change Assignee\r\n                </button>\r\n              </div>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <span className={\"badge badge-dark\"}>Status</span> {ticket.status}\r\n            {(function () {\r\n              switch (currentUser.role) {\r\n                case \"Tester\":\r\n                  return ticket.assignee.displayName ===\r\n                    currentUser.displayName ? (\r\n                    <div className={\"mt-3\"}>\r\n                      <select\r\n                        className=\"text-center\"\r\n                        name={\"status\"}\r\n                        id=\"status\"\r\n                        value={status}\r\n                        onChange={handleChangeStatus}\r\n                      >\r\n                        <option className={\"\"}>--Select--</option>\r\n                        <option>passed</option>\r\n                        <option>failed</option>\r\n                      </select>{\" \"}\r\n                      <button\r\n                        className=\"btn btn-sm btn-dark\"\r\n                        onClick={handleSubmitStatus}\r\n                      >\r\n                        Change Status\r\n                      </button>\r\n                    </div>\r\n                  ) : (\r\n                    \"\"\r\n                  );\r\n\r\n                case \"Triage\":\r\n                  return (\r\n                    <div className={\"mt-3\"}>\r\n                      <select\r\n                        className=\"text-center\"\r\n                        name={\"status\"}\r\n                        id=\"status\"\r\n                        value={status}\r\n                        onChange={handleChangeStatus}\r\n                      >\r\n                        <option className={\"\"}>--Select--</option>\r\n                        <option>assigned</option>\r\n                        <option>duplicate</option>\r\n                        <option>rejected</option>\r\n                        <option>closed</option>\r\n                        <option>in-testing</option>\r\n                        <option>tested</option>\r\n                      </select>{\" \"}\r\n                      <button\r\n                        className=\"btn btn-sm btn-dark\"\r\n                        onClick={handleSubmitStatus}\r\n                      >\r\n                        Change Status\r\n                      </button>\r\n                    </div>\r\n                  );\r\n\r\n                case \"Developer\":\r\n                  return ticket.assignee.displayName ===\r\n                    currentUser.displayName ? (\r\n                    <div className={\"mt-3\"}>\r\n                      <select\r\n                        className=\"text-center\"\r\n                        name={\"assignee\"}\r\n                        id=\"exampleFormControlSelect1\"\r\n                        value={status}\r\n                        onChange={handleChangeStatus}\r\n                      >\r\n                        <option className={\"\"}>--Select--</option>\r\n                        <option>in-progress</option>\r\n                        <option>on-hold</option>\r\n                        <option>fixed</option>\r\n                      </select>{\" \"}\r\n                      <button\r\n                        className=\"btn btn-sm btn-dark\"\r\n                        onClick={handleSubmitStatus}\r\n                      >\r\n                        Change Status\r\n                      </button>\r\n                    </div>\r\n                  ) : (\r\n                    \"\"\r\n                  );\r\n\r\n                default:\r\n                  break;\r\n              }\r\n            })()}\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <h4 className={\"text-center\"}>Ticket change history</h4>\r\n      <table className=\"table table-striped table-bordered table-dark\">\r\n        <thead>\r\n          <tr>\r\n            <th scope=\"col\">S.No.</th>\r\n            <th scope=\"col\">Person</th>\r\n            <th scope=\"col\">Role</th>\r\n            <th scope=\"col\">Changed the status to</th>\r\n            <th scope=\"col\">on Date</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {ticket.logs.map((log, index) => {\r\n            return (\r\n              <tr key={index}>\r\n                <th scope=\"row\">{index + 1}</th>\r\n                <td>{log.personName}</td>\r\n                <td>{log.personRole}</td>\r\n                <td>{log.statusChangedTo}</td>\r\n                <td>{log.timestamp.toDate().toString()}</td>\r\n              </tr>\r\n            );\r\n          })}\r\n        </tbody>\r\n      </table>\r\n      <h4 className={\"text-center\"}>Ticket comment history</h4>\r\n      <table className=\"table table-striped table-bordered table-dark\">\r\n        <thead>\r\n          <tr>\r\n            <th scope=\"col\">S.No.</th>\r\n            <th scope=\"col\">Person</th>\r\n            <th scope=\"col\">Role</th>\r\n            <th scope=\"col\">Comment</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {ticket.comments.map((comment, index) => {\r\n            return (\r\n              <tr key={index}>\r\n                <th scope=\"row\">{index + 1}</th>\r\n                <td>{comment.personName}</td>\r\n                <td>{comment.personRole}</td>\r\n                <td>{comment.comment}</td>\r\n              </tr>\r\n            );\r\n          })}\r\n        </tbody>\r\n      </table>\r\n      <form>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"comment\">Add Comment</label>\r\n          <textarea\r\n            className={\"form-control\"}\r\n            name=\"comment\"\r\n            id=\"comment\"\r\n            value={comment}\r\n            onChange={handleCommentChange}\r\n            rows={4}\r\n          ></textarea>\r\n        </div>\r\n        <button className=\"btn btn-dark\" onClick={handleSubmitComment}>\r\n          Submit Comment\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TicketDetailsPage;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\r\nimport DefectForm from \"./components/defect-form/defect-form.component\";\r\nimport Footer from \"./components/footer/footer.component\";\r\nimport Navbar from \"./components/navbar/navbar.component\";\r\nimport ViewTickets from \"./components/view-tickets/view-tickets.component\";\r\nimport { auth, createUserProfileDocument } from \"./firebase/firebase.utils\";\r\nimport Homepage from \"./pages/homepage/homepage.component\";\r\nimport ProjectForm from \"./pages/project-form/project-form.component\";\r\nimport ProjectDetails from \"./pages/projects-details/projects-details.component\";\r\nimport Projects from \"./pages/projects/projects.component\";\r\nimport RegisterAndLogin from \"./pages/register-and-login/register-and-login.component\";\r\nimport TicketDetailsPage from \"./pages/ticket-details/ticket-details.component\";\r\nimport CurrentUserContext from \"./providers/current-user/current-user.provider\";\r\nimport { CurrentUser } from \"./typescript-interfaces/current-user.interface\";\r\n\r\nconst Routes = () => {\r\n  const [currentUser, setCurrentUser] = useState<CurrentUser>({\r\n    id: \"\",\r\n    email: \"\",\r\n    displayName: \"\",\r\n    role: \"\",\r\n    myTickets: [],\r\n    projects: [],\r\n  });\r\n\r\n  useEffect(() => {\r\n    const unsubscribeFromAuth = auth.onAuthStateChanged(async (userAuth) => {\r\n      if (userAuth) {\r\n        const userRef = await createUserProfileDocument(userAuth, undefined);\r\n\r\n        userRef?.onSnapshot((snapShot) => {\r\n          setCurrentUser({\r\n            id: snapShot.id,\r\n            email: snapShot.data()?.email,\r\n            displayName: snapShot.data()?.displayName,\r\n            role: snapShot.data()?.role,\r\n            myTickets: snapShot.data()?.myTickets,\r\n            projects: snapShot.data()?.projects,\r\n          });\r\n        });\r\n      }\r\n    });\r\n    return () => {\r\n      unsubscribeFromAuth();\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <CurrentUserContext.Provider value={currentUser}>\r\n        <BrowserRouter>\r\n          <Navbar />\r\n          <Switch>\r\n            <Route exact path={\"/bugtrail-v3\"} component={Homepage} />\r\n            <Route\r\n              exact\r\n              path={\"/bugtrail-v3/register-and-login\"}\r\n              component={RegisterAndLogin}\r\n            />\r\n            <Route\r\n              exact\r\n              path={\"/bugtrail-v3/new-defect/:projectId\"}\r\n              component={DefectForm}\r\n            />\r\n            <Route\r\n              exact\r\n              path={\"/bugtrail-v3/new-project\"}\r\n              component={ProjectForm}\r\n            />\r\n            <Route path={\"/bugtrail-v3/view-tickets\"} component={ViewTickets} />\r\n            <Route\r\n              exact\r\n              path={\"/bugtrail-v3/ticket-details/:ticketId\"}\r\n              component={TicketDetailsPage}\r\n            />\r\n            <Route exact path={\"/bugtrail-v3/projects\"} component={Projects} />\r\n            <Route\r\n              exact\r\n              path={\"/bugtrail-v3/project-details/:projectId\"}\r\n              component={ProjectDetails}\r\n            />\r\n          </Switch>\r\n        </BrowserRouter>\r\n      </CurrentUserContext.Provider>\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Routes;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.scss\";\nimport Routes from \"./routes\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"bootstrap/dist/js/bootstrap.min.js\";\nimport \"jquery\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Routes />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}